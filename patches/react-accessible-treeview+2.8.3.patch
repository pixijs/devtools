diff --git a/node_modules/react-accessible-treeview/dist/react-accessible-treeview.cjs.js b/node_modules/react-accessible-treeview/dist/react-accessible-treeview.cjs.js
index bc5ea3a..2f25f7f 100644
--- a/node_modules/react-accessible-treeview/dist/react-accessible-treeview.cjs.js
+++ b/node_modules/react-accessible-treeview/dist/react-accessible-treeview.cjs.js
@@ -1 +1 @@
-"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("classnames")),n=e(require("prop-types")),a=require("react"),l=e(a);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,l,r=[],d=!0,i=!1;try{for(n=n.call(e);!(d=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);d=!0);}catch(e){i=!0,l=e}finally{try{d||null==n.return||n.return()}finally{if(i)throw l}}return r}(e,t)||c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,l=function(){};return{s:l,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,d=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return d=e.done,e},e:function(e){i=!0,r=e},f:function(){try{d||null==n.return||n.return()}finally{if(i)throw r}}}}function f(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(n[a[l]]=e[a[l]])}return n}var h={root:"tree",node:"tree-node",branch:"tree-node__branch",branchWrapper:"tree-branch-wrapper",leafListItem:"tree-leaf-list-item",leaf:"tree-node__leaf",nodeGroup:"tree-node-group"},p={select:"SELECT",focus:"FOCUS",exclusiveSelect:"EXCLUSIVE_SELECT"},v=Object.freeze(Object.values(p)),b=Object.freeze(Object.values({check:"check",select:"select"})),S="COLLAPSE",y="COLLAPSE_MANY",I="EXPAND",g="EXPAND_MANY",m="HALF_SELECT",w="SELECT",E="DESELECT",O="TOGGLE",A="TOGGLE_SELECT",W="SELECT_MANY",x="EXCLUSIVE_CHANGE_SELECT_MANY",T="FOCUS",j="BLUR",N="DISABLE",D="ENABLE",C="CLEAR_MANUALLY_TOGGLED",U="CONTROLLED_SELECT_MANY",M="UPDATE_TREE_STATE_WHEN_DATA_CHANGED",L=function(){},k=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=0,a=t;n<a.length;n++){var l=a[n];if(l&&l(e),e.defaultPrevented)break}}},R=function(e,t){var n,a=new Set,l=u(e);try{for(l.s();!(n=l.n()).done;){var r=n.value;t.has(r)||a.add(r)}}catch(e){l.e(e)}finally{l.f()}return a},_=function(e,t){return new Set([].concat(s(R(e,t)),s(R(t,e))))},B=function(e){var t=a.useRef();return a.useEffect((function(){t.current=e}),[e]),t.current},F=function(e,t){var n;return!!(null===(n=ae(e,t).children)||void 0===n?void 0:n.length)},z=function(e,t){return ae(e,t).parent},K=function(e,t,n){for(var a=t,l=[];;){var r=z(e,a);if(0===r||null==r||null!=r&&n.has(r))break;l.push(r),a=r}return l},H=function(e,t,n){var a=[];return function e(t,l){var r=ae(t,l);if(null!=r.children){var d,i=u(r.children.filter((function(e){return!n.has(e)})));try{for(i.s();!(d=i.n()).done;){var s=d.value;a.push(s),e(t,s)}}catch(e){i.e(e)}finally{i.f()}}}(e,t),a},P=function(e,t){var n=ae(e,t);return null==n.children?[]:n.children},G=function(e,t,n){var a=z(e,t);if(null!=a){var l=ae(e,a),r=l.children.indexOf(t)+n;if(l.children[r])return l.children[r]}return null},V=function(e,t,n){var a=ae(e,t);for(ne(e).id===t&&(a=ae(e,ae(e,t).children[ae(e,t).children.length-1]));n.has(a.id)&&F(e,a.id);)a=ae(e,a.children[a.children.length-1]);return a.id},q=function(e,t,n){if(t===ne(e).children[0])return null;var a=G(e,t,-1);return null==a?z(e,t):V(e,a,n)},Y=function(e,t,n){var a=ae(e,t).id;if(F(e,a)&&n.has(a))return ae(e,a).children[0];for(;;){var l=G(e,a,1);if(null!=l)return l;if(null==(a=z(e,a)))return null}},X=function(e){var t=e.data,n=e.expandedIds,a=e.from,l=e.to,r=[],d=t.length,i=0,s=a;if(r.push(a),a<l)for(;i<d&&(null!=(s=Y(t,s,n))&&r.push(s),null!=s&&s!==l);)i+=1;else if(a>l)for(;i<d&&(null!=(s=q(t,s,n))&&r.push(s),null!=s&&s!==l);)i+=1;return r},$=function(e){var t=e.isSelected,n=e.isDisabled,a=e.multiSelect;return n||a?t:!!t||void 0},J=function(e){var t=e.isSelected,n=e.isDisabled,a=e.isHalfSelected,l=e.multiSelect;return n?t:a?"mixed":l?t:!!t||void 0},Q=function(e,t,n){return t.concat.apply(t,s(t.filter((function(t){return F(e,t)})).map((function(t){return H(e,t,n)}))))},Z=function(e,t,n){null!=t?window.navigator.userAgent.match(/Trident/)?setTimeout((function(){return!t.contains(document.activeElement)&&n()}),0):!t.contains(e.nativeEvent.relatedTarget)&&n():console.warn("ref not set on <ul>")},ee=function(e,t,n){var a=P(e,t);return F(e,t)&&!n.has(t)&&1===a.length&&a.every((function(e){return n.has(e)}))},te=function(e,t,n,a){var l=function(e,t,n){return F(e,t)&&n.has(t)&&H(e,t,new Set).some((function(e){return n.has(e)}))}(e,t,n),r=function(e,t,n){var a=P(e,t);return F(e,t)&&n.has(t)&&1===a.length&&a.every((function(e){return n.has(e)}))}(e,t,n);return function(e,t,n,a){var l=H(e,t,new Set);return F(e,t)&&n.has(t)&&l.every((function(e){return n.has(e)}))&&l.every((function(e){return!a.has(e)}))}(e,t,n,a)?A:l&&!r?m:A},ne=function(e){var t=e.find((function(e){return null===e.parent}));if(!t)throw Error("TreeView data must contain parent node.");return t},ae=function(e,t){var n=e.find((function(e){return e.id===t}));if(null==n)throw Error("Node with id=".concat(t," doesn't exist in the tree."));return n},le=function(e){var t=Array.from(new Set(e));return e.length!==t.length},re=function(e,t){switch(t.type){case S:var n=new Set(e.expandedIds);return n.delete(t.id),Object.assign(Object.assign({},e),{expandedIds:n,tabbableId:t.id,isFocused:!0,lastAction:t.type,lastInteractedWith:t.lastInteractedWith});case y:var a,l=new Set(e.expandedIds),r=u(t.ids);try{for(r.s();!(a=r.n()).done;){var d=a.value;l.delete(d)}}catch(e){r.e(e)}finally{r.f()}return Object.assign(Object.assign({},e),{expandedIds:l,lastAction:t.type,lastInteractedWith:t.lastInteractedWith});case I:var i=new Set(e.expandedIds);return i.add(t.id),Object.assign(Object.assign({},e),{expandedIds:i,tabbableId:t.id,isFocused:!0,lastAction:t.type,lastInteractedWith:t.lastInteractedWith});case g:var c=new Set([].concat(s(e.expandedIds),s(t.ids)));return Object.assign(Object.assign({},e),{expandedIds:c,lastAction:t.type,lastInteractedWith:t.lastInteractedWith});case O:var o=new Set(e.expandedIds);return e.expandedIds.has(t.id)?o.delete(t.id):o.add(t.id),Object.assign(Object.assign({},e),{expandedIds:o,tabbableId:t.id,isFocused:!0,lastAction:t.type,lastInteractedWith:t.lastInteractedWith});case m:if(e.disabledIds.has(t.id))return e;var f=new Set(e.halfSelectedIds),h=new Set(e.selectedIds);return f.add(t.id),h.delete(t.id),Object.assign(Object.assign({},e),{selectedIds:h,halfSelectedIds:f,tabbableId:t.keepFocus?e.tabbableId:t.id,lastAction:t.type,lastInteractedWith:t.lastInteractedWith,lastManuallyToggled:t.lastManuallyToggled,lastUserSelect:t.NotUserAction?e.lastUserSelect:t.id});case w:if(!t.NotUserAction&&e.disabledIds.has(t.id))return e;var p;t.multiSelect?(p=new Set(e.selectedIds)).add(t.id):(p=new Set).add(t.id);var v=new Set(e.halfSelectedIds);return v.delete(t.id),Object.assign(Object.assign({},e),{selectedIds:p,halfSelectedIds:v,tabbableId:t.keepFocus?e.tabbableId:t.id,isFocused:!0!==t.NotUserAction,lastUserSelect:t.NotUserAction?e.lastUserSelect:t.id,lastAction:t.type,lastInteractedWith:t.lastInteractedWith,lastManuallyToggled:t.lastManuallyToggled});case E:if(!t.NotUserAction&&e.disabledIds.has(t.id))return e;var b,L=new Set(e.selectedIds);return L.delete(t.id),t.multiSelect?(b=new Set(e.halfSelectedIds)).delete(t.id):b=new Set,Object.assign(Object.assign({},e),{selectedIds:L,halfSelectedIds:b,tabbableId:t.keepFocus?e.tabbableId:t.id,isFocused:!0,lastUserSelect:t.NotUserAction?e.lastUserSelect:t.id,lastAction:t.type,lastInteractedWith:t.lastInteractedWith,lastManuallyToggled:t.lastManuallyToggled});case A:if(e.disabledIds.has(t.id))return e;var k,_=e.selectedIds.has(t.id);t.multiSelect?(k=new Set(e.selectedIds),_?k.delete(t.id):k.add(t.id)):(k=new Set,_||k.add(t.id));var B=new Set(e.halfSelectedIds);return B.delete(t.id),Object.assign(Object.assign({},e),{selectedIds:k,halfSelectedIds:B,tabbableId:t.id,isFocused:!0,lastUserSelect:t.NotUserAction?e.lastUserSelect:t.id,lastAction:t.type,lastInteractedWith:t.lastInteractedWith,lastManuallyToggled:t.lastManuallyToggled});case W:var F,z=t.ids.filter((function(t){return!e.disabledIds.has(t)}));if(t.multiSelect){F=t.select?new Set([].concat(s(e.selectedIds),s(z))):R(e.selectedIds,new Set(z));var K=R(e.halfSelectedIds,F);return Object.assign(Object.assign({},e),{selectedIds:F,halfSelectedIds:K,lastAction:t.type,lastInteractedWith:t.lastInteractedWith,lastManuallyToggled:t.lastManuallyToggled})}return e;case x:var H,P=t.ids.filter((function(t){return!e.disabledIds.has(t)}));if(t.multiSelect){H=t.select?new Set(P):R(e.selectedIds,new Set(P));var G=R(e.halfSelectedIds,H);return Object.assign(Object.assign({},e),{selectedIds:H,halfSelectedIds:G,lastAction:t.type,lastInteractedWith:t.lastInteractedWith,lastManuallyToggled:t.lastManuallyToggled})}return e;case U:var V,q=e.lastInteractedWith,Y=e.tabbableId;if(t.multiSelect)V=new Set(t.ids),t.ids.length&&(q=t.ids[t.ids.length-1],Y=t.ids[t.ids.length-1]);else{V=new Set,t.ids.length>1&&console.warn("Tree in singleSelect mode, only the first item from selectedIds will be selected.");var X=t.ids[0];X&&V.add(X),q=null!=X?X:q,Y=null!=X?X:q}var $=new Set(e.halfSelectedIds);t.ids.every((function(e){return $.delete(e)}));var J=new Set(t.ids);return Object.assign(Object.assign({},e),{selectedIds:V,halfSelectedIds:$,controlledIds:J,isFocused:!0,lastAction:t.type,tabbableId:Y,lastInteractedWith:q});case T:return Object.assign(Object.assign({},e),{tabbableId:t.id,isFocused:!0,lastAction:t.type,lastInteractedWith:t.lastInteractedWith});case j:return Object.assign(Object.assign({},e),{isFocused:!1});case N:var Q=new Set(e.disabledIds);return Q.add(t.id),Object.assign(Object.assign({},e),{disabledIds:Q});case D:var Z=new Set(e.disabledIds);return Z.delete(t.id),Object.assign(Object.assign({},e),{disabledIds:Z});case C:return Object.assign(Object.assign({},e),{lastManuallyToggled:null});case M:return Object.assign(Object.assign({},e),{tabbableId:t.tabbableId,lastInteractedWith:t.lastInteractedWith,lastManuallyToggled:t.lastManuallyToggled,lastUserSelect:t.lastUserSelect});default:throw new Error("Invalid action passed to the reducer")}},de=function(e){var n=e.element,a=e.dispatch,r=e.data,i=e.selectedIds,c=e.tabbableId,o=e.isFocused,u=e.expandedIds,h=e.disabledIds,v=e.halfSelectedIds,b=e.lastUserSelect,S=e.nodeRefs,I=e.leafRefs,g=e.baseClassNames,m=e.nodeRenderer,E=e.nodeAction,j=e.setsize,N=e.posinset,D=e.level,C=e.propagateCollapse,U=e.propagateSelect,M=e.multiSelect,R=e.togglableSelect,_=e.clickAction,B=e.state,z=function(e){if(!(e.ctrlKey||e.altKey||e.shiftKey))if(u.has(n.id)&&C){var t=[n.id].concat(s(H(r,n.id,new Set)));a({type:y,ids:t,lastInteractedWith:n.id})}else a({type:O,id:n.id,lastInteractedWith:n.id})},K=function(){return a({type:T,id:n.id,lastInteractedWith:n.id})},P=function(e){if(e.shiftKey){var t=X({data:r,expandedIds:u,from:b,to:n.id}).filter((function(e){return!h.has(e)}));t=U?Q(r,t,h):t,a({type:x,select:!0,multiSelect:M,ids:t,lastInteractedWith:n.id,lastManuallyToggled:n.id})}else e.ctrlKey||_===p.select?(a({type:R?te(r,n.id,i,h):w,id:n.id,multiSelect:M,lastInteractedWith:n.id,lastManuallyToggled:n.id}),U&&!h.has(n.id)&&a({type:W,ids:Q(r,[n.id],h),select:!R||!i.has(n.id),multiSelect:M,lastInteractedWith:n.id,lastManuallyToggled:n.id})):_===p.exclusiveSelect?a({type:R?A:w,id:n.id,multiSelect:!1,lastInteractedWith:n.id,lastManuallyToggled:n.id}):_===p.focus&&a({type:T,id:n.id,lastInteractedWith:n.id})},G=function(e){var a;return t(e,(d(a={},"".concat(e,"--expanded"),u.has(n.id)),d(a,"".concat(e,"--selected"),i.has(n.id)),d(a,"".concat(e,"--focused"),c===n.id&&o),a))},V="select"===E?{"aria-selected":$({isSelected:i.has(n.id),isDisabled:h.has(n.id),multiSelect:M})}:{"aria-checked":J({isSelected:i.has(n.id),isDisabled:h.has(n.id),isHalfSelected:v.has(n.id),multiSelect:M})};return F(r,n.id)||n.isBranch?l.createElement("li",Object.assign({role:"treeitem","aria-expanded":u.has(n.id),"aria-setsize":j,"aria-posinset":N,"aria-level":D,"aria-disabled":h.has(n.id),tabIndex:c===n.id?0:-1,ref:function(e){null!=(null==S?void 0:S.current)&&null!=e&&(S.current[n.id]=e)},className:g.branchWrapper},V),l.createElement(l.Fragment,null,m({element:n,isBranch:!0,isSelected:i.has(n.id),isHalfSelected:v.has(n.id),isExpanded:u.has(n.id),isDisabled:h.has(n.id),dispatch:a,getNodeProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.onClick;return{onClick:null==a?k(P,z,K):k(a,K),className:t(G(g.node),g.branch),ref:function(e){null!=(null==I?void 0:I.current)&&(I.current[n.id]=e)}}},setsize:j,posinset:N,level:D,handleSelect:P,handleExpand:z,treeState:B}),l.createElement(ie,Object.assign({getClasses:G},function(e){e.setsize,e.posinset;return f(e,["setsize","posinset"])}(e))))):l.createElement("li",{role:"none",className:G(g.leafListItem)},m({element:n,isBranch:!1,isSelected:i.has(n.id),isHalfSelected:!1,isExpanded:!1,isDisabled:h.has(n.id),dispatch:a,getNodeProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.onClick;return Object.assign({role:"treeitem",tabIndex:c===n.id?0:-1,onClick:k(null==a?P:a,K),ref:function(e){null!=(null==S?void 0:S.current)&&null!=(null==I?void 0:I.current)&&(S.current[n.id]=e,I.current[n.id]=e)},className:t(G(g.node),g.leaf),"aria-setsize":j,"aria-posinset":N,"aria-level":D,disabled:h.has(n.id),"aria-disabled":h.has(n.id)},V)},setsize:j,posinset:N,level:D,handleSelect:P,handleExpand:L,treeState:B}))},ie=function(e){var t=e.data,n=e.element,a=e.expandedIds,d=e.getClasses,i=e.baseClassNames,s=e.level,c=f(e,["data","element","expandedIds","getClasses","baseClassNames","level"]);return l.createElement("ul",{role:"group",className:d(i.nodeGroup)},a.has(n.id)&&n.children.length>0&&n.children.map((function(e,d){return l.createElement(de,Object.assign({data:t,expandedIds:a,baseClassNames:i,key:"".concat(e,"-").concat(r(e)),element:ae(t,e),setsize:n.children.length,posinset:d+1,level:s+1},c))})))},se=function(e){var t=e.data,n=e.controlledSelectedIds,l=e.controlledExpandedIds,r=e.defaultExpandedIds,d=e.defaultSelectedIds,c=e.defaultDisabledIds,o=e.nodeRefs,f=e.leafRefs,h=e.onSelect,p=e.onNodeSelect,v=e.onExpand,b=e.onLoadData,A=e.togglableSelect,x=e.multiSelect,j=e.propagateSelect,N=e.propagateSelectUpwards,D=e.treeRef,k=ne(t),P=i(a.useReducer(re,{selectedIds:new Set(n||d),controlledIds:new Set(n),tabbableId:k.children[0],isFocused:!1,expandedIds:new Set(l||r),halfSelectedIds:new Set,lastUserSelect:k.children[0],lastInteractedWith:null,lastManuallyToggled:null,disabledIds:new Set(c)}),2),G=P[0],V=P[1],q=G.selectedIds,Y=G.expandedIds,X=G.disabledIds,$=G.tabbableId,J=G.halfSelectedIds,Z=G.lastAction,te=G.lastInteractedWith,le=G.lastManuallyToggled,de=B(q)||new Set,ie=_(q,de);a.useEffect((function(){var e;if(null!=h&&h!==L){var n,a=u(ie);try{for(a.s();!(n=a.n()).done;){var l=n.value,r=F(t,l)||!!(null===(e=ae(t,$))||void 0===e?void 0:e.isBranch);h({element:ae(t,l),isBranch:r,isExpanded:!!r&&Y.has(l),isSelected:q.has(l),isDisabled:X.has(l),isHalfSelected:!!r&&J.has(l),treeState:G})}}catch(e){a.e(e)}finally{a.f()}}}),[t,q,Y,X,J,ie,h,G]),a.useEffect((function(){null!=p&&p!==L&&null!=le&&ie.size&&(p({element:ae(t,le),isSelected:q.has(le),isBranch:F(t,le),treeState:G}),V({type:C}))}),[le,q,ie]);var se=B(Y)||new Set;a.useEffect((function(){var e=_(Y,se);if(null!=v&&v!==L){var n,a=u(e);try{for(a.s();!(n=a.n()).done;){var l=n.value;v({element:ae(t,l),isExpanded:Y.has(l),isSelected:q.has(l),isDisabled:X.has(l),isHalfSelected:J.has(l),treeState:G})}}catch(e){a.e(e)}finally{a.f()}}}),[t,q,Y,X,J,se,v,G]);var ce,oe,ue=(ce=t,oe=a.useRef(),a.useEffect((function(){oe.current=ce})),oe.current||new Map);a.useEffect((function(){var e=_(Y,se);if(b){var n,a=u(e);try{for(a.s();!(n=a.n()).done;){var l=n.value;b({element:ae(t,l),isExpanded:Y.has(l),isSelected:q.has(l),isDisabled:X.has(l),isHalfSelected:J.has(l),treeState:G})}}catch(e){a.e(e)}finally{a.f()}if(ue!==t&&A&&j){var r,d=u(Y);try{for(d.s();!(r=d.n()).done;){var i=r.value;q.has(i)&&V({type:W,ids:Q(t,[i],X),select:!0,multiSelect:x,lastInteractedWith:i})}}catch(e){d.e(e)}finally{d.f()}}}}),[t,q,Y,X,J,se,b,G]),a.useEffect((function(){if(ue!==t){var e=ne(t);e.children.length&&V({type:M,tabbableId:t.find((function(e){return e.id===G.tabbableId}))?G.tabbableId:e.children[0],lastInteractedWith:t.find((function(e){return e.id===G.lastInteractedWith}))?G.lastInteractedWith:null,lastManuallyToggled:t.find((function(e){return e.id===G.lastManuallyToggled}))?G.lastManuallyToggled:null,lastUserSelect:t.find((function(e){return e.id===G.lastUserSelect}))?G.lastUserSelect:e.children[0]})}}),[t]);var fe=_(new Set(n),q);return a.useEffect((function(){if(n){fe.size&&V({type:U,ids:n,multiSelect:x});var e,a=u(n);try{for(a.s();!(e=a.n()).done;){var l=e.value;j&&!X.has(l)&&V({type:W,ids:Q(t,[l],X),select:!0,multiSelect:x,lastInteractedWith:l})}}catch(e){a.e(e)}finally{a.f()}}}),[n]),a.useEffect((function(){var e=new Set(l),n=R(e,se),a=R(se,e);if(a.size){var r,d=u(a);try{for(d.s();!(r=d.n()).done;){var i=r.value;if(F(t,i)||ae(t,i).isBranch){var c=[i].concat(s(H(t,i,new Set)));V({type:y,ids:c,lastInteractedWith:i})}}}catch(e){d.e(e)}finally{d.f()}}if(n.size){var o,f=u(n);try{for(f.s();!(o=f.n()).done;){var h=o.value;if(F(t,h)||ae(t,h).isBranch){var p=z(t,h);V(p?{type:g,ids:[h,p],lastInteractedWith:h}:{type:I,id:h,lastInteractedWith:h})}}}catch(e){f.e(e)}finally{f.f()}}}),[l]),a.useEffect((function(){if(N){var e=new Set(s(ie));te&&Z!==T&&Z!==S&&Z!==I&&Z!==O&&e.add(te);var n=[];e.forEach((function(e){t.find((function(t){return t.id===e}))||n.push(e)})),n.forEach((function(t){return e.delete(t)}));var a,l=function(e,t,n,a,l,r){var d,i={every:new Set,some:new Set,none:new Set},s=u(t);try{for(s.s();!(d=s.n()).done;)for(var c=d.value;;){var o=z(e,c);if(0===o||null==o||null!=o&&a.has(o))break;var f=ae(e,o).children.filter((function(e){return!a.has(e)}));if(0===f.length)break;if(f.some((function(e){return n.has(e)||i.some.has(e)&&!i.none.has(e)||l.has(e)&&!i.none.has(e)})))f.every((function(e){return n.has(e)}))?i.every.add(o):i.some.add(o);else{var h=K(e,c,a).find((function(e){return n.has(e)}));if(!r&&h){H(e,h,a).forEach((function(e){l.has(e)&&i.none.add(e)}));break}i.none.add(o)}c=o}}catch(e){s.e(e)}finally{s.f()}return i}(t,e,q,X,J,x),r=l.every,d=l.some,i=l.none,c=u(r);try{for(c.s();!(a=c.n()).done;){var o=a.value;q.has(o)||V({type:w,id:o,multiSelect:x||ee(t,o,q),keepFocus:!0,NotUserAction:!0,lastInteractedWith:te})}}catch(e){c.e(e)}finally{c.f()}var f,h=u(d);try{for(h.s();!(f=h.n()).done;){var p=f.value;J.has(p)||V({type:m,id:p,lastInteractedWith:te,keepFocus:!0,NotUserAction:!0})}}catch(e){h.e(e)}finally{h.f()}var v,b=u(i);try{for(b.s();!(v=b.n()).done;){var y=v.value;(q.has(y)||J.has(y))&&V({type:E,id:y,multiSelect:x,keepFocus:!0,NotUserAction:!0,lastInteractedWith:te,lastManuallyToggled:le})}}catch(e){b.e(e)}finally{b.f()}}}),[t,x,N,q,Y,X,J,Z,de,ie,te,fe]),a.useEffect((function(){if(null!=te&&(null!=$&&null!=(null==o?void 0:o.current)&&null!=(null==f?void 0:f.current)&&(null==(null==D?void 0:D.current)||document.activeElement&&D.current.contains(document.activeElement)))){var e=o.current[$];!function(e){null!=e&&e.scrollIntoView&&e.scrollIntoView({block:"nearest"})}(f.current[te]),function(e){null!=e&&e.focus&&e.focus({preventScroll:!0})}(e)}}),[$,o,f,te]),[G,V]},ce=l.forwardRef((function(e,n){var d=e.data,s=e.selectedIds,c=e.nodeRenderer,o=e.onSelect,u=void 0===o?L:o,v=e.onNodeSelect,b=void 0===v?L:v,S=e.onExpand,y=void 0===S?L:S,I=e.onLoadData,g=e.className,m=void 0===g?"":g,w=e.multiSelect,E=void 0!==w&&w,O=e.propagateSelect,A=void 0!==O&&O,W=e.propagateSelectUpwards,x=void 0!==W&&W,T=e.propagateCollapse,N=void 0!==T&&T,D=e.expandOnKeyboardSelect,C=void 0!==D&&D,U=e.togglableSelect,M=void 0!==U&&U,k=e.defaultExpandedIds,R=void 0===k?[]:k,_=e.defaultSelectedIds,B=void 0===_?[]:_,F=e.defaultDisabledIds,z=void 0===F?[]:F,K=e.clickAction,H=void 0===K?p.select:K,P=e.nodeAction,G=void 0===P?"select":P,V=e.expandedIds,q=e.onBlur,Y=f(e,["data","selectedIds","nodeRenderer","onSelect","onNodeSelect","onExpand","onLoadData","className","multiSelect","propagateSelect","propagateSelectUpwards","propagateCollapse","expandOnKeyboardSelect","togglableSelect","defaultExpandedIds","defaultSelectedIds","defaultDisabledIds","clickAction","nodeAction","expandedIds","onBlur"]);!function(e){if(le(e.map((function(e){return e.id}))))throw Error("Multiple TreeView nodes have the same ID. IDs must be unique.");if(e.forEach((function(e){if(e.id===e.parent)throw Error("Node with id=".concat(e.id," has parent reference to itself."));if(le(e.children))throw Error("Node with id=".concat(e.id," contains duplicate ids in its children."))})),0===e.filter((function(e){return null===e.parent})).length)throw Error("TreeView must have one root node.");if(e.filter((function(e){return null===e.parent})).length>1)throw Error("TreeView can have only one root node.");ne(e).children.length||console.warn("TreeView have no nodes to display.")}(d);var X=a.useRef({}),$=a.useRef({}),J=a.useRef(null);null!=n&&(J=n);var Q=i(se({data:d,controlledSelectedIds:s,controlledExpandedIds:V,defaultExpandedIds:R,defaultSelectedIds:B,defaultDisabledIds:z,nodeRefs:X,leafRefs:$,onSelect:u,onNodeSelect:b,onExpand:y,onLoadData:I,togglableSelect:M,multiSelect:E,propagateSelect:A,propagateSelectUpwards:x,treeRef:J}),2),ee=Q[0],te=Q[1];return A=A&&E,l.createElement("ul",Object.assign({className:t(h.root,m),role:"tree","aria-multiselectable":"select"===G?E:void 0,ref:J,onBlur:function(e){Z(e,J.current,(function(){q&&q({treeState:ee,dispatch:te}),te({type:j})}))},onKeyDown:oe({data:d,tabbableId:ee.tabbableId,expandedIds:ee.expandedIds,selectedIds:ee.selectedIds,disabledIds:ee.disabledIds,halfSelectedIds:ee.halfSelectedIds,clickAction:H,dispatch:te,propagateCollapse:N,propagateSelect:A,multiSelect:E,expandOnKeyboardSelect:C,togglableSelect:M})},Y),ne(d).children.map((function(e,t){return l.createElement(de,Object.assign({key:"".concat(e,"-").concat(r(e)),data:d,element:ae(d,e),setsize:ne(d).children.length,posinset:t+1,level:1},ee,{state:ee,dispatch:te,nodeRefs:X,leafRefs:$,baseClassNames:h,nodeRenderer:c,propagateCollapse:N,propagateSelect:A,propagateSelectUpwards:x,multiSelect:E,togglableSelect:M,clickAction:H,nodeAction:G}))})))})),oe=function(e){var t=e.data,n=e.expandedIds,a=e.selectedIds,l=e.disabledIds,r=e.tabbableId,d=e.dispatch,i=e.propagateCollapse,c=e.propagateSelect,o=e.multiSelect,u=e.expandOnKeyboardSelect,f=e.togglableSelect,h=e.clickAction;return function(e){var v=ae(t,r),b=v.id;if(e.ctrlKey){if("a"===e.key&&h!==p.focus){e.preventDefault();var m=t.filter((function(e){return null!==e.parent})).map((function(e){return e.id})).filter((function(e){return!l.has(e)}));d({type:W,multiSelect:o,select:Array.from(a).filter((function(e){return!l.has(e)})).length!==m.length,ids:m,lastInteractedWith:v.id})}else if(e.shiftKey&&("Home"===e.key||"End"===e.key)&&h!==p.focus){var E="Home"===e.key?ne(t).children[0]:V(t,b,n),A=X({data:t,expandedIds:n,from:b,to:E}).filter((function(e){return!l.has(e)}));d({type:W,multiSelect:o,select:!0,ids:c?Q(t,A,l):A}),d({type:T,id:E,lastInteractedWith:E})}}else{if(e.shiftKey)switch(e.key){case"ArrowUp":e.preventDefault();var x=q(t,b,n);return void(null==x||l.has(x)||(h!==p.focus&&d({type:W,ids:c?Q(t,[x],l):[x],select:!0,multiSelect:o,lastInteractedWith:x,lastManuallyToggled:x}),d({type:T,id:x,lastInteractedWith:x})));case"ArrowDown":e.preventDefault();var j=Y(t,b,n);return void(null==j||l.has(j)||(h!==p.focus&&d({type:W,ids:c?Q(t,[j],l):[j],multiSelect:o,select:!0,lastInteractedWith:j,lastManuallyToggled:j}),d({type:T,id:j,lastInteractedWith:j})))}switch(e.key){case"ArrowDown":e.preventDefault();var N=Y(t,b,n);return void(null!=N&&d({type:T,id:N,lastInteractedWith:N}));case"ArrowUp":e.preventDefault();var D=q(t,b,n);return void(null!=D&&d({type:T,id:D,lastInteractedWith:D}));case"ArrowLeft":if(e.preventDefault(),(F(t,b)||v.isBranch)&&n.has(r))if(i){var C=[b].concat(s(H(t,b,new Set)));d({type:y,ids:C,lastInteractedWith:v.id})}else d({type:S,id:b,lastInteractedWith:b});else if(!ne(t).children.includes(b)){var U=z(t,b);if(null==U)throw new Error("parentId of root element is null");d({type:T,id:U,lastInteractedWith:U})}return;case"ArrowRight":return e.preventDefault(),void((F(t,b)||v.isBranch)&&(n.has(r)?d({type:T,id:v.children[0],lastInteractedWith:v.children[0]}):d({type:I,id:b,lastInteractedWith:b})));case"Home":e.preventDefault(),d({type:T,id:ne(t).children[0],lastInteractedWith:ne(t).children[0]});break;case"End":e.preventDefault();var M=V(t,ne(t).id,n);return void d({type:T,id:M,lastInteractedWith:M});case"*":e.preventDefault();var L=z(t,b);if(null==L)throw new Error("parentId of element is null");var k=ae(t,L).children.filter((function(e){return F(t,e)||ae(t,e).isBranch}));return void d({type:g,ids:k,lastInteractedWith:b});case"Enter":case" ":case"Spacebar":if(e.preventDefault(),h===p.focus)return;return d({type:f?te(t,b,a,l):w,id:b,multiSelect:o,lastInteractedWith:b,lastManuallyToggled:b}),c&&!l.has(v.id)&&d({type:W,ids:Q(t,[b],l),select:!f||!a.has(b),multiSelect:o,lastInteractedWith:b,lastManuallyToggled:b}),void(u&&d({type:O,id:b,lastInteractedWith:b}));default:if(1===e.key.length)for(var R=Y(t,b,n);R!==b;)if(null!=R){if(ae(t,R).name[0].toLowerCase()===e.key.toLowerCase())return void d({type:T,id:R,lastInteractedWith:b});R=Y(t,R,n)}else R=ne(t).children[0];return}}}};ce.propTypes={data:n.array.isRequired,onSelect:n.func,onNodeSelect:n.func,onExpand:n.func,className:n.string,nodeRenderer:n.func.isRequired,defaultExpandedIds:n.array,defaultSelectedIds:n.array,expandedIds:n.array,selectedIds:n.array,defaultDisabledIds:n.array,propagateCollapse:n.bool,propagateSelect:n.bool,propagateSelectUpwards:n.bool,multiSelect:n.bool,expandOnKeyboardSelect:n.bool,togglableSelect:n.bool,nodeAction:n.oneOf(b),clickAction:n.oneOf(v),onBlur:n.func,onLoadData:n.func},exports.CLICK_ACTIONS=v,exports.default=ce,exports.flattenTree=function(e){var t=0,n=[];return function e(a,l){var r,d=Object.assign(Object.assign({id:a.id||t,name:a.name,children:[]},a.isBranch&&{isBranch:a.isBranch}),{parent:l,metadata:a.metadata?Object.assign({},a.metadata):void 0});if(n.find((function(e){return e.id===d.id})))throw Error("Multiple TreeView nodes have the same ID (".concat(d.id,"). IDs must be unique."));if(n.push(d),t+=1,null===(r=a.children)||void 0===r?void 0:r.length){var i,s=u(a.children);try{for(s.s();!(i=s.n()).done;){e(i.value,d.id)}}catch(e){s.e(e)}finally{s.f()}var c,o=u(n.values());try{for(o.s();!(c=o.n()).done;){var f=c.value;f.parent===d.id&&d.children.push(f.id)}}catch(e){o.e(e)}finally{o.f()}}}(e,null),n};
+"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("classnames")),n=e(require("prop-types")),a=require("react"),l=e(a);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,l,r=[],d=!0,i=!1;try{for(n=n.call(e);!(d=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);d=!0);}catch(e){i=!0,l=e}finally{try{d||null==n.return||n.return()}finally{if(i)throw l}}return r}(e,t)||c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,l=function(){};return{s:l,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,d=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return d=e.done,e},e:function(e){i=!0,r=e},f:function(){try{d||null==n.return||n.return()}finally{if(i)throw r}}}}function f(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(n[a[l]]=e[a[l]])}return n}var h={root:"tree",node:"tree-node",branch:"tree-node__branch",branchWrapper:"tree-branch-wrapper",leafListItem:"tree-leaf-list-item",leaf:"tree-node__leaf",nodeGroup:"tree-node-group"},p={select:"SELECT",focus:"FOCUS",exclusiveSelect:"EXCLUSIVE_SELECT"},v=Object.freeze(Object.values(p)),b=Object.freeze(Object.values({check:"check",select:"select"})),S="COLLAPSE",y="COLLAPSE_MANY",I="EXPAND",g="EXPAND_MANY",m="HALF_SELECT",w="SELECT",E="DESELECT",O="TOGGLE",A="TOGGLE_SELECT",W="SELECT_MANY",x="EXCLUSIVE_CHANGE_SELECT_MANY",T="FOCUS",j="BLUR",N="DISABLE",D="ENABLE",C="CLEAR_MANUALLY_TOGGLED",U="CONTROLLED_SELECT_MANY",M="UPDATE_TREE_STATE_WHEN_DATA_CHANGED",L=function(){},k=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=0,a=t;n<a.length;n++){var l=a[n];if(l&&l(e),e.defaultPrevented)break}}},R=function(e,t){var n,a=new Set,l=u(e);try{for(l.s();!(n=l.n()).done;){var r=n.value;t.has(r)||a.add(r)}}catch(e){l.e(e)}finally{l.f()}return a},_=function(e,t){return new Set([].concat(s(R(e,t)),s(R(t,e))))},B=function(e){var t=a.useRef();return a.useEffect((function(){t.current=e}),[e]),t.current},F=function(e,t){var n;return!!(null===(n=ae(e,t).children)||void 0===n?void 0:n.length)},z=function(e,t){return ae(e,t).parent},K=function(e,t,n){for(var a=t,l=[];;){var r=z(e,a);if(0===r||null==r||null!=r&&n.has(r))break;l.push(r),a=r}return l},H=function(e,t,n){var a=[];return function e(t,l){var r=ae(t,l);if(null!=r.children){var d,i=u(r.children.filter((function(e){return!n.has(e)})));try{for(i.s();!(d=i.n()).done;){var s=d.value;a.push(s),e(t,s)}}catch(e){i.e(e)}finally{i.f()}}}(e,t),a},P=function(e,t){var n=ae(e,t);return null==n.children?[]:n.children},G=function(e,t,n){var a=z(e,t);if(null!=a){var l=ae(e,a),r=l.children.indexOf(t)+n;if(l.children[r])return l.children[r]}return null},V=function(e,t,n){var a=ae(e,t);for(ne(e).id===t&&(a=ae(e,ae(e,t).children[ae(e,t).children.length-1]));n.has(a.id)&&F(e,a.id);)a=ae(e,a.children[a.children.length-1]);return a.id},q=function(e,t,n){if(t===ne(e).children[0])return null;var a=G(e,t,-1);return null==a?z(e,t):V(e,a,n)},Y=function(e,t,n){var a=ae(e,t).id;if(F(e,a)&&n.has(a))return ae(e,a).children[0];for(;;){var l=G(e,a,1);if(null!=l)return l;if(null==(a=z(e,a)))return null}},X=function(e){var t=e.data,n=e.expandedIds,a=e.from,l=e.to,r=[],d=t.length,i=0,s=a;if(r.push(a),a<l)for(;i<d&&(null!=(s=Y(t,s,n))&&r.push(s),null!=s&&s!==l);)i+=1;else if(a>l)for(;i<d&&(null!=(s=q(t,s,n))&&r.push(s),null!=s&&s!==l);)i+=1;return r},$=function(e){var t=e.isSelected,n=e.isDisabled,a=e.multiSelect;return n||a?t:!!t||void 0},J=function(e){var t=e.isSelected,n=e.isDisabled,a=e.isHalfSelected,l=e.multiSelect;return n?t:a?"mixed":l?t:!!t||void 0},Q=function(e,t,n){return t.concat.apply(t,s(t.filter((function(t){return F(e,t)})).map((function(t){return H(e,t,n)}))))},Z=function(e,t,n){null!=t?window.navigator.userAgent.match(/Trident/)?setTimeout((function(){return!t.contains(document.activeElement)&&n()}),0):!t.contains(e.nativeEvent.relatedTarget)&&n():console.warn("ref not set on <ul>")},ee=function(e,t,n){var a=P(e,t);return F(e,t)&&!n.has(t)&&1===a.length&&a.every((function(e){return n.has(e)}))},te=function(e,t,n,a){var l=function(e,t,n){return F(e,t)&&n.has(t)&&H(e,t,new Set).some((function(e){return n.has(e)}))}(e,t,n),r=function(e,t,n){var a=P(e,t);return F(e,t)&&n.has(t)&&1===a.length&&a.every((function(e){return n.has(e)}))}(e,t,n);return function(e,t,n,a){var l=H(e,t,new Set);return F(e,t)&&n.has(t)&&l.every((function(e){return n.has(e)}))&&l.every((function(e){return!a.has(e)}))}(e,t,n,a)?A:l&&!r?m:A},ne=function(e){var t=e.find((function(e){return null===e.parent}));if(!t)throw Error("TreeView data must contain parent node.");return t},ae=function(e,t){var n=e.find((function(e){return e.id===t}));if(null==n)throw Error("Node with id=".concat(t," doesn't exist in the tree."));return n},le=function(e){var t=Array.from(new Set(e));return e.length!==t.length},re=function(e,t){switch(t.type){case S:var n=new Set(e.expandedIds);return n.delete(t.id),Object.assign(Object.assign({},e),{expandedIds:n,tabbableId:t.id,isFocused:!0,lastAction:t.type,lastInteractedWith:t.lastInteractedWith});case y:var a,l=new Set(e.expandedIds),r=u(t.ids);try{for(r.s();!(a=r.n()).done;){var d=a.value;l.delete(d)}}catch(e){r.e(e)}finally{r.f()}return Object.assign(Object.assign({},e),{expandedIds:l,lastAction:t.type,lastInteractedWith:t.lastInteractedWith});case I:var i=new Set(e.expandedIds);return i.add(t.id),Object.assign(Object.assign({},e),{expandedIds:i,tabbableId:t.id,isFocused:!0,lastAction:t.type,lastInteractedWith:t.lastInteractedWith});case g:var c=new Set([].concat(s(e.expandedIds),s(t.ids)));return Object.assign(Object.assign({},e),{expandedIds:c,lastAction:t.type,lastInteractedWith:t.lastInteractedWith});case O:var o=new Set(e.expandedIds);return e.expandedIds.has(t.id)?o.delete(t.id):o.add(t.id),Object.assign(Object.assign({},e),{expandedIds:o,tabbableId:t.id,isFocused:!0,lastAction:t.type,lastInteractedWith:t.lastInteractedWith});case m:if(e.disabledIds.has(t.id))return e;var f=new Set(e.halfSelectedIds),h=new Set(e.selectedIds);return f.add(t.id),h.delete(t.id),Object.assign(Object.assign({},e),{selectedIds:h,halfSelectedIds:f,tabbableId:t.keepFocus?e.tabbableId:t.id,lastAction:t.type,lastInteractedWith:t.lastInteractedWith,lastManuallyToggled:t.lastManuallyToggled,lastUserSelect:t.NotUserAction?e.lastUserSelect:t.id});case w:if(!t.NotUserAction&&e.disabledIds.has(t.id))return e;var p;t.multiSelect?(p=new Set(e.selectedIds)).add(t.id):(p=new Set).add(t.id);var v=new Set(e.halfSelectedIds);return v.delete(t.id),Object.assign(Object.assign({},e),{selectedIds:p,halfSelectedIds:v,tabbableId:t.keepFocus?e.tabbableId:t.id,isFocused:!0!==t.NotUserAction,lastUserSelect:t.NotUserAction?e.lastUserSelect:t.id,lastAction:t.type,lastInteractedWith:t.lastInteractedWith,lastManuallyToggled:t.lastManuallyToggled});case E:if(!t.NotUserAction&&e.disabledIds.has(t.id))return e;var b,L=new Set(e.selectedIds);return L.delete(t.id),t.multiSelect?(b=new Set(e.halfSelectedIds)).delete(t.id):b=new Set,Object.assign(Object.assign({},e),{selectedIds:L,halfSelectedIds:b,tabbableId:t.keepFocus?e.tabbableId:t.id,isFocused:!0,lastUserSelect:t.NotUserAction?e.lastUserSelect:t.id,lastAction:t.type,lastInteractedWith:t.lastInteractedWith,lastManuallyToggled:t.lastManuallyToggled});case A:if(e.disabledIds.has(t.id))return e;var k,_=e.selectedIds.has(t.id);t.multiSelect?(k=new Set(e.selectedIds),_?k.delete(t.id):k.add(t.id)):(k=new Set,_||k.add(t.id));var B=new Set(e.halfSelectedIds);return B.delete(t.id),Object.assign(Object.assign({},e),{selectedIds:k,halfSelectedIds:B,tabbableId:t.id,isFocused:!0,lastUserSelect:t.NotUserAction?e.lastUserSelect:t.id,lastAction:t.type,lastInteractedWith:t.lastInteractedWith,lastManuallyToggled:t.lastManuallyToggled});case W:var F,z=t.ids.filter((function(t){return!e.disabledIds.has(t)}));if(t.multiSelect){F=t.select?new Set([].concat(s(e.selectedIds),s(z))):R(e.selectedIds,new Set(z));var K=R(e.halfSelectedIds,F);return Object.assign(Object.assign({},e),{selectedIds:F,halfSelectedIds:K,lastAction:t.type,lastInteractedWith:t.lastInteractedWith,lastManuallyToggled:t.lastManuallyToggled})}return e;case x:var H,P=t.ids.filter((function(t){return!e.disabledIds.has(t)}));if(t.multiSelect){H=t.select?new Set(P):R(e.selectedIds,new Set(P));var G=R(e.halfSelectedIds,H);return Object.assign(Object.assign({},e),{selectedIds:H,halfSelectedIds:G,lastAction:t.type,lastInteractedWith:t.lastInteractedWith,lastManuallyToggled:t.lastManuallyToggled})}return e;case U:var V,q=e.lastInteractedWith,Y=e.tabbableId;if(t.multiSelect)V=new Set(t.ids),t.ids.length&&(q=t.ids[t.ids.length-1],Y=t.ids[t.ids.length-1]);else{V=new Set,t.ids.length>1&&console.warn("Tree in singleSelect mode, only the first item from selectedIds will be selected.");var X=t.ids[0];X&&V.add(X),q=null!=X?X:q,Y=null!=X?X:q}var $=new Set(e.halfSelectedIds);t.ids.every((function(e){return $.delete(e)}));var J=new Set(t.ids);return Object.assign(Object.assign({},e),{selectedIds:V,halfSelectedIds:$,controlledIds:J,isFocused:!0,lastAction:t.type,tabbableId:Y,lastInteractedWith:q});case T:return Object.assign(Object.assign({},e),{tabbableId:t.id,isFocused:!0,lastAction:t.type,lastInteractedWith:t.lastInteractedWith});case j:return Object.assign(Object.assign({},e),{isFocused:!1});case N:var Q=new Set(e.disabledIds);return Q.add(t.id),Object.assign(Object.assign({},e),{disabledIds:Q});case D:var Z=new Set(e.disabledIds);return Z.delete(t.id),Object.assign(Object.assign({},e),{disabledIds:Z});case C:return Object.assign(Object.assign({},e),{lastManuallyToggled:null});case M:return Object.assign(Object.assign({},e),{tabbableId:t.tabbableId,lastInteractedWith:t.lastInteractedWith,lastManuallyToggled:t.lastManuallyToggled,lastUserSelect:t.lastUserSelect});default:throw new Error("Invalid action passed to the reducer")}},de=function(e){var n=e.element,a=e.dispatch,r=e.data,i=e.selectedIds,c=e.tabbableId,o=e.isFocused,u=e.expandedIds,h=e.disabledIds,v=e.halfSelectedIds,b=e.lastUserSelect,S=e.nodeRefs,I=e.leafRefs,g=e.baseClassNames,m=e.nodeRenderer,E=e.nodeAction,j=e.setsize,N=e.posinset,D=e.level,C=e.propagateCollapse,U=e.propagateSelect,M=e.multiSelect,R=e.togglableSelect,_=e.clickAction,B=e.state,z=function(e){if(!(e.ctrlKey||e.altKey||e.shiftKey))if(u.has(n.id)&&C){var t=[n.id].concat(s(H(r,n.id,new Set)));a({type:y,ids:t,lastInteractedWith:n.id})}else a({type:O,id:n.id,lastInteractedWith:n.id})},K=function(){return a({type:T,id:n.id,lastInteractedWith:n.id})},P=function(e){if(e.shiftKey){var t=X({data:r,expandedIds:u,from:b,to:n.id}).filter((function(e){return!h.has(e)}));t=U?Q(r,t,h):t,a({type:x,select:!0,multiSelect:M,ids:t,lastInteractedWith:n.id,lastManuallyToggled:n.id})}else e.ctrlKey||_===p.select?(a({type:R?te(r,n.id,i,h):w,id:n.id,multiSelect:M,lastInteractedWith:n.id,lastManuallyToggled:n.id}),U&&!h.has(n.id)&&a({type:W,ids:Q(r,[n.id],h),select:!R||!i.has(n.id),multiSelect:M,lastInteractedWith:n.id,lastManuallyToggled:n.id})):_===p.exclusiveSelect?a({type:R?A:w,id:n.id,multiSelect:!1,lastInteractedWith:n.id,lastManuallyToggled:n.id}):_===p.focus&&a({type:T,id:n.id,lastInteractedWith:n.id})},G=function(e){var a;return t(e,(d(a={},"".concat(e,"--expanded"),u.has(n.id)),d(a,"".concat(e,"--selected"),i.has(n.id)),d(a,"".concat(e,"--focused"),c===n.id&&o),a))},V="select"===E?{"aria-selected":$({isSelected:i.has(n.id),isDisabled:h.has(n.id),multiSelect:M})}:{"aria-checked":J({isSelected:i.has(n.id),isDisabled:h.has(n.id),isHalfSelected:v.has(n.id),multiSelect:M})};return F(r,n.id)||n.isBranch?l.createElement("li",Object.assign({role:"treeitem","aria-expanded":u.has(n.id),"aria-setsize":j,"aria-posinset":N,"aria-level":D,"aria-disabled":h.has(n.id),tabIndex:c===n.id?0:-1,ref:function(e){null!=(null==S?void 0:S.current)&&null!=e&&(S.current[n.id]=e)},className:g.branchWrapper},V),l.createElement(l.Fragment,null,m({element:n,isBranch:!0,isSelected:i.has(n.id),isHalfSelected:v.has(n.id),isExpanded:u.has(n.id),isDisabled:h.has(n.id),dispatch:a,getNodeProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.onClick;return{onClick:null==a?k(P,z,K):k(a,K),className:t(G(g.node),g.branch),ref:function(e){null!=(null==I?void 0:I.current)&&(I.current[n.id]=e)}}},setsize:j,posinset:N,level:D,handleSelect:P,handleExpand:z,treeState:B}),l.createElement(ie,Object.assign({getClasses:G},function(e){e.setsize,e.posinset;return f(e,["setsize","posinset"])}(e))))):l.createElement("li",{role:"none",className:G(g.leafListItem)},m({element:n,isBranch:!1,isSelected:i.has(n.id),isHalfSelected:!1,isExpanded:!1,isDisabled:h.has(n.id),dispatch:a,getNodeProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.onClick;return Object.assign({role:"treeitem",tabIndex:c===n.id?0:-1,onClick:k(null==a?P:a,K),ref:function(e){null!=(null==S?void 0:S.current)&&null!=(null==I?void 0:I.current)&&(S.current[n.id]=e,I.current[n.id]=e)},className:t(G(g.node),g.leaf),"aria-setsize":j,"aria-posinset":N,"aria-level":D,disabled:h.has(n.id),"aria-disabled":h.has(n.id)},V)},setsize:j,posinset:N,level:D,handleSelect:P,handleExpand:L,treeState:B}))},ie=function(e){var t=e.data,n=e.element,a=e.expandedIds,d=e.getClasses,i=e.baseClassNames,s=e.level,c=f(e,["data","element","expandedIds","getClasses","baseClassNames","level"]);return l.createElement("ul",{role:"group",className:d(i.nodeGroup)},a.has(n.id)&&n.children.length>0&&n.children.map((function(e,d){return l.createElement(de,Object.assign({data:t,expandedIds:a,baseClassNames:i,key:"".concat(e,"-").concat(r(e)),element:ae(t,e),setsize:n.children.length,posinset:d+1,level:s+1},c))})))},se=function(e){var t=e.data,n=e.controlledSelectedIds,l=e.controlledExpandedIds,r=e.defaultExpandedIds,d=e.defaultSelectedIds,c=e.defaultDisabledIds,o=e.nodeRefs,f=e.leafRefs,h=e.onSelect,p=e.onNodeSelect,v=e.onExpand,b=e.onLoadData,A=e.togglableSelect,x=e.multiSelect,j=e.propagateSelect,N=e.propagateSelectUpwards,D=e.treeRef,k=ne(t),P=i(a.useReducer(re,{selectedIds:new Set(n||d),controlledIds:new Set(n),tabbableId:k.children[0],isFocused:!1,expandedIds:new Set(l||r),halfSelectedIds:new Set,lastUserSelect:k.children[0],lastInteractedWith:null,lastManuallyToggled:null,disabledIds:new Set(c)}),2),G=P[0],V=P[1],q=G.selectedIds,Y=G.expandedIds,X=G.disabledIds,$=G.tabbableId,J=G.halfSelectedIds,Z=G.lastAction,te=G.lastInteractedWith,le=G.lastManuallyToggled,de=B(q)||new Set,ie=_(q,de);a.useEffect((function(){var e;if(null!=h&&h!==L){var n,a=u(ie);try{var l=function(){var a=n.value;if(t.find((function(e){return e.id===a}))){var l=F(t,a)||!!(null===(e=ae(t,$))||void 0===e?void 0:e.isBranch);h({element:ae(t,a),isBranch:l,isExpanded:!!l&&Y.has(a),isSelected:q.has(a),isDisabled:X.has(a),isHalfSelected:!!l&&J.has(a),treeState:G})}};for(a.s();!(n=a.n()).done;)l()}catch(e){a.e(e)}finally{a.f()}}}),[t,q,Y,X,J,ie,h,G]),a.useEffect((function(){null!=p&&p!==L&&null!=le&&ie.size&&(p({element:ae(t,le),isSelected:q.has(le),isBranch:F(t,le),treeState:G}),V({type:C}))}),[le,q,ie]);var se=B(Y)||new Set;a.useEffect((function(){var e=_(Y,se);if(null!=v&&v!==L){var n,a=u(e);try{for(a.s();!(n=a.n()).done;){var l=n.value;v({element:ae(t,l),isExpanded:Y.has(l),isSelected:q.has(l),isDisabled:X.has(l),isHalfSelected:J.has(l),treeState:G})}}catch(e){a.e(e)}finally{a.f()}}}),[t,q,Y,X,J,se,v,G]);var ce,oe,ue=(ce=t,oe=a.useRef(),a.useEffect((function(){oe.current=ce})),oe.current||new Map);a.useEffect((function(){var e=_(Y,se);if(b){var n,a=u(e);try{for(a.s();!(n=a.n()).done;){var l=n.value;b({element:ae(t,l),isExpanded:Y.has(l),isSelected:q.has(l),isDisabled:X.has(l),isHalfSelected:J.has(l),treeState:G})}}catch(e){a.e(e)}finally{a.f()}if(ue!==t&&A&&j){var r,d=u(Y);try{for(d.s();!(r=d.n()).done;){var i=r.value;q.has(i)&&V({type:W,ids:Q(t,[i],X),select:!0,multiSelect:x,lastInteractedWith:i})}}catch(e){d.e(e)}finally{d.f()}}}}),[t,q,Y,X,J,se,b,G]),a.useEffect((function(){if(ue!==t){var e=ne(t);e.children.length&&V({type:M,tabbableId:t.find((function(e){return e.id===G.tabbableId}))?G.tabbableId:e.children[0],lastInteractedWith:t.find((function(e){return e.id===G.lastInteractedWith}))?G.lastInteractedWith:null,lastManuallyToggled:t.find((function(e){return e.id===G.lastManuallyToggled}))?G.lastManuallyToggled:null,lastUserSelect:t.find((function(e){return e.id===G.lastUserSelect}))?G.lastUserSelect:e.children[0]})}}),[t]);var fe=_(new Set(n),q);return a.useEffect((function(){if(n){fe.size&&V({type:U,ids:n,multiSelect:x});var e,a=u(n);try{for(a.s();!(e=a.n()).done;){var l=e.value;j&&!X.has(l)&&V({type:W,ids:Q(t,[l],X),select:!0,multiSelect:x,lastInteractedWith:l})}}catch(e){a.e(e)}finally{a.f()}}}),[n]),a.useEffect((function(){var e=new Set(l),n=R(e,se),a=R(se,e);if(a.size){var r,d=u(a);try{var i=function(){var e=r.value;if(t.find((function(t){return t.id===e}))&&(F(t,e)||ae(t,e).isBranch)){var n=[e].concat(s(H(t,e,new Set)));V({type:y,ids:n,lastInteractedWith:e})}};for(d.s();!(r=d.n()).done;)i()}catch(e){d.e(e)}finally{d.f()}}if(n.size){var c,o=u(n);try{var f=function(){var e=c.value;if(t.find((function(t){return t.id===e}))&&(F(t,e)||ae(t,e).isBranch)){var n=z(t,e);V(n?{type:g,ids:[e,n],lastInteractedWith:e}:{type:I,id:e,lastInteractedWith:e})}};for(o.s();!(c=o.n()).done;)f()}catch(e){o.e(e)}finally{o.f()}}}),[l]),a.useEffect((function(){if(N){var e=new Set(s(ie));te&&Z!==T&&Z!==S&&Z!==I&&Z!==O&&e.add(te);var n=[];e.forEach((function(e){t.find((function(t){return t.id===e}))||n.push(e)})),n.forEach((function(t){return e.delete(t)}));var a,l=function(e,t,n,a,l,r){var d,i={every:new Set,some:new Set,none:new Set},s=u(t);try{for(s.s();!(d=s.n()).done;)for(var c=d.value;;){var o=z(e,c);if(0===o||null==o||null!=o&&a.has(o))break;var f=ae(e,o).children.filter((function(e){return!a.has(e)}));if(0===f.length)break;if(f.some((function(e){return n.has(e)||i.some.has(e)&&!i.none.has(e)||l.has(e)&&!i.none.has(e)})))f.every((function(e){return n.has(e)}))?i.every.add(o):i.some.add(o);else{var h=K(e,c,a).find((function(e){return n.has(e)}));if(!r&&h){H(e,h,a).forEach((function(e){l.has(e)&&i.none.add(e)}));break}i.none.add(o)}c=o}}catch(e){s.e(e)}finally{s.f()}return i}(t,e,q,X,J,x),r=l.every,d=l.some,i=l.none,c=u(r);try{for(c.s();!(a=c.n()).done;){var o=a.value;q.has(o)||V({type:w,id:o,multiSelect:x||ee(t,o,q),keepFocus:!0,NotUserAction:!0,lastInteractedWith:te})}}catch(e){c.e(e)}finally{c.f()}var f,h=u(d);try{for(h.s();!(f=h.n()).done;){var p=f.value;J.has(p)||V({type:m,id:p,lastInteractedWith:te,keepFocus:!0,NotUserAction:!0})}}catch(e){h.e(e)}finally{h.f()}var v,b=u(i);try{for(b.s();!(v=b.n()).done;){var y=v.value;(q.has(y)||J.has(y))&&V({type:E,id:y,multiSelect:x,keepFocus:!0,NotUserAction:!0,lastInteractedWith:te,lastManuallyToggled:le})}}catch(e){b.e(e)}finally{b.f()}}}),[t,x,N,q,Y,X,J,Z,de,ie,te,fe]),a.useEffect((function(){if(null!=te&&(null!=$&&null!=(null==o?void 0:o.current)&&null!=(null==f?void 0:f.current)&&(null==(null==D?void 0:D.current)||document.activeElement&&D.current.contains(document.activeElement)))){var e=o.current[$];!function(e){null!=e&&e.scrollIntoView&&e.scrollIntoView({block:"nearest"})}(f.current[te]),function(e){null!=e&&e.focus&&e.focus({preventScroll:!0})}(e)}}),[$,o,f,te]),[G,V]},ce=l.forwardRef((function(e,n){var d=e.data,s=e.selectedIds,c=e.nodeRenderer,o=e.onSelect,u=void 0===o?L:o,v=e.onNodeSelect,b=void 0===v?L:v,S=e.onExpand,y=void 0===S?L:S,I=e.onLoadData,g=e.className,m=void 0===g?"":g,w=e.multiSelect,E=void 0!==w&&w,O=e.propagateSelect,A=void 0!==O&&O,W=e.propagateSelectUpwards,x=void 0!==W&&W,T=e.propagateCollapse,N=void 0!==T&&T,D=e.expandOnKeyboardSelect,C=void 0!==D&&D,U=e.togglableSelect,M=void 0!==U&&U,k=e.defaultExpandedIds,R=void 0===k?[]:k,_=e.defaultSelectedIds,B=void 0===_?[]:_,F=e.defaultDisabledIds,z=void 0===F?[]:F,K=e.clickAction,H=void 0===K?p.select:K,P=e.nodeAction,G=void 0===P?"select":P,V=e.expandedIds,q=e.onBlur,Y=f(e,["data","selectedIds","nodeRenderer","onSelect","onNodeSelect","onExpand","onLoadData","className","multiSelect","propagateSelect","propagateSelectUpwards","propagateCollapse","expandOnKeyboardSelect","togglableSelect","defaultExpandedIds","defaultSelectedIds","defaultDisabledIds","clickAction","nodeAction","expandedIds","onBlur"]);!function(e){if(le(e.map((function(e){return e.id}))))throw Error("Multiple TreeView nodes have the same ID. IDs must be unique.");if(e.forEach((function(e){if(e.id===e.parent)throw Error("Node with id=".concat(e.id," has parent reference to itself."));if(le(e.children))throw Error("Node with id=".concat(e.id," contains duplicate ids in its children."))})),0===e.filter((function(e){return null===e.parent})).length)throw Error("TreeView must have one root node.");if(e.filter((function(e){return null===e.parent})).length>1)throw Error("TreeView can have only one root node.");ne(e).children.length||console.warn("TreeView have no nodes to display.")}(d);var X=a.useRef({}),$=a.useRef({}),J=a.useRef(null);null!=n&&(J=n);var Q=i(se({data:d,controlledSelectedIds:s,controlledExpandedIds:V,defaultExpandedIds:R,defaultSelectedIds:B,defaultDisabledIds:z,nodeRefs:X,leafRefs:$,onSelect:u,onNodeSelect:b,onExpand:y,onLoadData:I,togglableSelect:M,multiSelect:E,propagateSelect:A,propagateSelectUpwards:x,treeRef:J}),2),ee=Q[0],te=Q[1];return A=A&&E,l.createElement("ul",Object.assign({className:t(h.root,m),role:"tree","aria-multiselectable":"select"===G?E:void 0,ref:J,onBlur:function(e){Z(e,J.current,(function(){q&&q({treeState:ee,dispatch:te}),te({type:j})}))},onKeyDown:oe({data:d,tabbableId:ee.tabbableId,expandedIds:ee.expandedIds,selectedIds:ee.selectedIds,disabledIds:ee.disabledIds,halfSelectedIds:ee.halfSelectedIds,clickAction:H,dispatch:te,propagateCollapse:N,propagateSelect:A,multiSelect:E,expandOnKeyboardSelect:C,togglableSelect:M})},Y),ne(d).children.map((function(e,t){return l.createElement(de,Object.assign({key:"".concat(e,"-").concat(r(e)),data:d,element:ae(d,e),setsize:ne(d).children.length,posinset:t+1,level:1},ee,{state:ee,dispatch:te,nodeRefs:X,leafRefs:$,baseClassNames:h,nodeRenderer:c,propagateCollapse:N,propagateSelect:A,propagateSelectUpwards:x,multiSelect:E,togglableSelect:M,clickAction:H,nodeAction:G}))})))})),oe=function(e){var t=e.data,n=e.expandedIds,a=e.selectedIds,l=e.disabledIds,r=e.tabbableId,d=e.dispatch,i=e.propagateCollapse,c=e.propagateSelect,o=e.multiSelect,u=e.expandOnKeyboardSelect,f=e.togglableSelect,h=e.clickAction;return function(e){var v=ae(t,r),b=v.id;if(e.ctrlKey){if("a"===e.key&&h!==p.focus){e.preventDefault();var m=t.filter((function(e){return null!==e.parent})).map((function(e){return e.id})).filter((function(e){return!l.has(e)}));d({type:W,multiSelect:o,select:Array.from(a).filter((function(e){return!l.has(e)})).length!==m.length,ids:m,lastInteractedWith:v.id})}else if(e.shiftKey&&("Home"===e.key||"End"===e.key)&&h!==p.focus){var E="Home"===e.key?ne(t).children[0]:V(t,b,n),A=X({data:t,expandedIds:n,from:b,to:E}).filter((function(e){return!l.has(e)}));d({type:W,multiSelect:o,select:!0,ids:c?Q(t,A,l):A}),d({type:T,id:E,lastInteractedWith:E})}}else{if(e.shiftKey)switch(e.key){case"ArrowUp":e.preventDefault();var x=q(t,b,n);return void(null==x||l.has(x)||(h!==p.focus&&d({type:W,ids:c?Q(t,[x],l):[x],select:!0,multiSelect:o,lastInteractedWith:x,lastManuallyToggled:x}),d({type:T,id:x,lastInteractedWith:x})));case"ArrowDown":e.preventDefault();var j=Y(t,b,n);return void(null==j||l.has(j)||(h!==p.focus&&d({type:W,ids:c?Q(t,[j],l):[j],multiSelect:o,select:!0,lastInteractedWith:j,lastManuallyToggled:j}),d({type:T,id:j,lastInteractedWith:j})))}switch(e.key){case"ArrowDown":e.preventDefault();var N=Y(t,b,n);return void(null!=N&&d({type:T,id:N,lastInteractedWith:N}));case"ArrowUp":e.preventDefault();var D=q(t,b,n);return void(null!=D&&d({type:T,id:D,lastInteractedWith:D}));case"ArrowLeft":if(e.preventDefault(),(F(t,b)||v.isBranch)&&n.has(r))if(i){var C=[b].concat(s(H(t,b,new Set)));d({type:y,ids:C,lastInteractedWith:v.id})}else d({type:S,id:b,lastInteractedWith:b});else if(!ne(t).children.includes(b)){var U=z(t,b);if(null==U)throw new Error("parentId of root element is null");d({type:T,id:U,lastInteractedWith:U})}return;case"ArrowRight":return e.preventDefault(),void((F(t,b)||v.isBranch)&&(n.has(r)?d({type:T,id:v.children[0],lastInteractedWith:v.children[0]}):d({type:I,id:b,lastInteractedWith:b})));case"Home":e.preventDefault(),d({type:T,id:ne(t).children[0],lastInteractedWith:ne(t).children[0]});break;case"End":e.preventDefault();var M=V(t,ne(t).id,n);return void d({type:T,id:M,lastInteractedWith:M});case"*":e.preventDefault();var L=z(t,b);if(null==L)throw new Error("parentId of element is null");var k=ae(t,L).children.filter((function(e){return F(t,e)||ae(t,e).isBranch}));return void d({type:g,ids:k,lastInteractedWith:b});case"Enter":case" ":case"Spacebar":if(e.preventDefault(),h===p.focus)return;return d({type:f?te(t,b,a,l):w,id:b,multiSelect:o,lastInteractedWith:b,lastManuallyToggled:b}),c&&!l.has(v.id)&&d({type:W,ids:Q(t,[b],l),select:!f||!a.has(b),multiSelect:o,lastInteractedWith:b,lastManuallyToggled:b}),void(u&&d({type:O,id:b,lastInteractedWith:b}));default:if(1===e.key.length)for(var R=Y(t,b,n);R!==b;)if(null!=R){if(ae(t,R).name[0].toLowerCase()===e.key.toLowerCase())return void d({type:T,id:R,lastInteractedWith:b});R=Y(t,R,n)}else R=ne(t).children[0];return}}}};ce.propTypes={data:n.array.isRequired,onSelect:n.func,onNodeSelect:n.func,onExpand:n.func,className:n.string,nodeRenderer:n.func.isRequired,defaultExpandedIds:n.array,defaultSelectedIds:n.array,expandedIds:n.array,selectedIds:n.array,defaultDisabledIds:n.array,propagateCollapse:n.bool,propagateSelect:n.bool,propagateSelectUpwards:n.bool,multiSelect:n.bool,expandOnKeyboardSelect:n.bool,togglableSelect:n.bool,nodeAction:n.oneOf(b),clickAction:n.oneOf(v),onBlur:n.func,onLoadData:n.func},exports.CLICK_ACTIONS=v,exports.default=ce,exports.flattenTree=function(e){var t=0,n=[];return function e(a,l){var r,d=Object.assign(Object.assign({id:a.id||t,name:a.name,children:[]},a.isBranch&&{isBranch:a.isBranch}),{parent:l,metadata:a.metadata?Object.assign({},a.metadata):void 0});if(n.find((function(e){return e.id===d.id})))throw Error("Multiple TreeView nodes have the same ID (".concat(d.id,"). IDs must be unique."));if(n.push(d),t+=1,null===(r=a.children)||void 0===r?void 0:r.length){var i,s=u(a.children);try{for(s.s();!(i=s.n()).done;){e(i.value,d.id)}}catch(e){s.e(e)}finally{s.f()}var c,o=u(n.values());try{for(o.s();!(c=o.n()).done;){var f=c.value;f.parent===d.id&&d.children.push(f.id)}}catch(e){o.e(e)}finally{o.f()}}}(e,null),n};
diff --git a/node_modules/react-accessible-treeview/dist/react-accessible-treeview.esm.js b/node_modules/react-accessible-treeview/dist/react-accessible-treeview.esm.js
index 2a22612..0bc50d4 100644
--- a/node_modules/react-accessible-treeview/dist/react-accessible-treeview.esm.js
+++ b/node_modules/react-accessible-treeview/dist/react-accessible-treeview.esm.js
@@ -1 +1 @@
-import e from"classnames";import t from"prop-types";import n,{useRef as a,useEffect as l,useReducer as r}from"react";function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,l,r=[],d=!0,i=!1;try{for(n=n.call(e);!(d=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);d=!0);}catch(e){i=!0,l=e}finally{try{d||null==n.return||n.return()}finally{if(i)throw l}}return r}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,l=function(){};return{s:l,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,d=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return d=e.done,e},e:function(e){i=!0,r=e},f:function(){try{d||null==n.return||n.return()}finally{if(i)throw r}}}}function h(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(n[a[l]]=e[a[l]])}return n}var p={root:"tree",node:"tree-node",branch:"tree-node__branch",branchWrapper:"tree-branch-wrapper",leafListItem:"tree-leaf-list-item",leaf:"tree-node__leaf",nodeGroup:"tree-node-group"},v={select:"SELECT",focus:"FOCUS",exclusiveSelect:"EXCLUSIVE_SELECT"},b=Object.freeze(Object.values(v)),S=Object.freeze(Object.values({check:"check",select:"select"})),y="COLLAPSE",I="COLLAPSE_MANY",g="EXPAND",m="EXPAND_MANY",w="HALF_SELECT",E="SELECT",A="DESELECT",O="TOGGLE",W="TOGGLE_SELECT",x="SELECT_MANY",T="EXCLUSIVE_CHANGE_SELECT_MANY",j="FOCUS",N="BLUR",D="DISABLE",C="ENABLE",U="CLEAR_MANUALLY_TOGGLED",M="CONTROLLED_SELECT_MANY",k="UPDATE_TREE_STATE_WHEN_DATA_CHANGED",L=function(){},R=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=0,a=t;n<a.length;n++){var l=a[n];if(l&&l(e),e.defaultPrevented)break}}},_=function(e,t){var n,a=new Set,l=f(e);try{for(l.s();!(n=l.n()).done;){var r=n.value;t.has(r)||a.add(r)}}catch(e){l.e(e)}finally{l.f()}return a},B=function(e,t){return new Set([].concat(c(_(e,t)),c(_(t,e))))},F=function(e){var t=a();return l((function(){t.current=e}),[e]),t.current},z=function(e,t){var n;return!!(null===(n=re(e,t).children)||void 0===n?void 0:n.length)},H=function(e,t){return re(e,t).parent},K=function(e,t,n){for(var a=t,l=[];;){var r=H(e,a);if(0===r||null==r||null!=r&&n.has(r))break;l.push(r),a=r}return l},P=function(e,t,n){var a=[];return function e(t,l){var r=re(t,l);if(null!=r.children){var d,i=f(r.children.filter((function(e){return!n.has(e)})));try{for(i.s();!(d=i.n()).done;){var s=d.value;a.push(s),e(t,s)}}catch(e){i.e(e)}finally{i.f()}}}(e,t),a},G=function(e,t){var n=re(e,t);return null==n.children?[]:n.children},V=function(e,t,n){var a=H(e,t);if(null!=a){var l=re(e,a),r=l.children.indexOf(t)+n;if(l.children[r])return l.children[r]}return null},Y=function(e,t,n){var a=re(e,t);for(le(e).id===t&&(a=re(e,re(e,t).children[re(e,t).children.length-1]));n.has(a.id)&&z(e,a.id);)a=re(e,a.children[a.children.length-1]);return a.id},q=function(e,t,n){if(t===le(e).children[0])return null;var a=V(e,t,-1);return null==a?H(e,t):Y(e,a,n)},X=function(e,t,n){var a=re(e,t).id;if(z(e,a)&&n.has(a))return re(e,a).children[0];for(;;){var l=V(e,a,1);if(null!=l)return l;if(null==(a=H(e,a)))return null}},$=function(e){var t=e.data,n=e.expandedIds,a=e.from,l=e.to,r=[],d=t.length,i=0,s=a;if(r.push(a),a<l)for(;i<d&&(null!=(s=X(t,s,n))&&r.push(s),null!=s&&s!==l);)i+=1;else if(a>l)for(;i<d&&(null!=(s=q(t,s,n))&&r.push(s),null!=s&&s!==l);)i+=1;return r},J=function(e){var t=0,n=[];return function e(a,l){var r,d=Object.assign(Object.assign({id:a.id||t,name:a.name,children:[]},a.isBranch&&{isBranch:a.isBranch}),{parent:l,metadata:a.metadata?Object.assign({},a.metadata):void 0});if(n.find((function(e){return e.id===d.id})))throw Error("Multiple TreeView nodes have the same ID (".concat(d.id,"). IDs must be unique."));if(n.push(d),t+=1,null===(r=a.children)||void 0===r?void 0:r.length){var i,s=f(a.children);try{for(s.s();!(i=s.n()).done;){e(i.value,d.id)}}catch(e){s.e(e)}finally{s.f()}var c,o=f(n.values());try{for(o.s();!(c=o.n()).done;){var u=c.value;u.parent===d.id&&d.children.push(u.id)}}catch(e){o.e(e)}finally{o.f()}}}(e,null),n},Q=function(e){var t=e.isSelected,n=e.isDisabled,a=e.multiSelect;return n||a?t:!!t||void 0},Z=function(e){var t=e.isSelected,n=e.isDisabled,a=e.isHalfSelected,l=e.multiSelect;return n?t:a?"mixed":l?t:!!t||void 0},ee=function(e,t,n){return t.concat.apply(t,c(t.filter((function(t){return z(e,t)})).map((function(t){return P(e,t,n)}))))},te=function(e,t,n){null!=t?window.navigator.userAgent.match(/Trident/)?setTimeout((function(){return!t.contains(document.activeElement)&&n()}),0):!t.contains(e.nativeEvent.relatedTarget)&&n():console.warn("ref not set on <ul>")},ne=function(e,t,n){var a=G(e,t);return z(e,t)&&!n.has(t)&&1===a.length&&a.every((function(e){return n.has(e)}))},ae=function(e,t,n,a){var l=function(e,t,n){return z(e,t)&&n.has(t)&&P(e,t,new Set).some((function(e){return n.has(e)}))}(e,t,n),r=function(e,t,n){var a=G(e,t);return z(e,t)&&n.has(t)&&1===a.length&&a.every((function(e){return n.has(e)}))}(e,t,n);return function(e,t,n,a){var l=P(e,t,new Set);return z(e,t)&&n.has(t)&&l.every((function(e){return n.has(e)}))&&l.every((function(e){return!a.has(e)}))}(e,t,n,a)?W:l&&!r?w:W},le=function(e){var t=e.find((function(e){return null===e.parent}));if(!t)throw Error("TreeView data must contain parent node.");return t},re=function(e,t){var n=e.find((function(e){return e.id===t}));if(null==n)throw Error("Node with id=".concat(t," doesn't exist in the tree."));return n},de=function(e){var t=Array.from(new Set(e));return e.length!==t.length},ie=function(e,t){switch(t.type){case y:var n=new Set(e.expandedIds);return n.delete(t.id),Object.assign(Object.assign({},e),{expandedIds:n,tabbableId:t.id,isFocused:!0,lastAction:t.type,lastInteractedWith:t.lastInteractedWith});case I:var a,l=new Set(e.expandedIds),r=f(t.ids);try{for(r.s();!(a=r.n()).done;){var d=a.value;l.delete(d)}}catch(e){r.e(e)}finally{r.f()}return Object.assign(Object.assign({},e),{expandedIds:l,lastAction:t.type,lastInteractedWith:t.lastInteractedWith});case g:var i=new Set(e.expandedIds);return i.add(t.id),Object.assign(Object.assign({},e),{expandedIds:i,tabbableId:t.id,isFocused:!0,lastAction:t.type,lastInteractedWith:t.lastInteractedWith});case m:var s=new Set([].concat(c(e.expandedIds),c(t.ids)));return Object.assign(Object.assign({},e),{expandedIds:s,lastAction:t.type,lastInteractedWith:t.lastInteractedWith});case O:var o=new Set(e.expandedIds);return e.expandedIds.has(t.id)?o.delete(t.id):o.add(t.id),Object.assign(Object.assign({},e),{expandedIds:o,tabbableId:t.id,isFocused:!0,lastAction:t.type,lastInteractedWith:t.lastInteractedWith});case w:if(e.disabledIds.has(t.id))return e;var u=new Set(e.halfSelectedIds),h=new Set(e.selectedIds);return u.add(t.id),h.delete(t.id),Object.assign(Object.assign({},e),{selectedIds:h,halfSelectedIds:u,tabbableId:t.keepFocus?e.tabbableId:t.id,lastAction:t.type,lastInteractedWith:t.lastInteractedWith,lastManuallyToggled:t.lastManuallyToggled,lastUserSelect:t.NotUserAction?e.lastUserSelect:t.id});case E:if(!t.NotUserAction&&e.disabledIds.has(t.id))return e;var p;t.multiSelect?(p=new Set(e.selectedIds)).add(t.id):(p=new Set).add(t.id);var v=new Set(e.halfSelectedIds);return v.delete(t.id),Object.assign(Object.assign({},e),{selectedIds:p,halfSelectedIds:v,tabbableId:t.keepFocus?e.tabbableId:t.id,isFocused:!0!==t.NotUserAction,lastUserSelect:t.NotUserAction?e.lastUserSelect:t.id,lastAction:t.type,lastInteractedWith:t.lastInteractedWith,lastManuallyToggled:t.lastManuallyToggled});case A:if(!t.NotUserAction&&e.disabledIds.has(t.id))return e;var b,S=new Set(e.selectedIds);return S.delete(t.id),t.multiSelect?(b=new Set(e.halfSelectedIds)).delete(t.id):b=new Set,Object.assign(Object.assign({},e),{selectedIds:S,halfSelectedIds:b,tabbableId:t.keepFocus?e.tabbableId:t.id,isFocused:!0,lastUserSelect:t.NotUserAction?e.lastUserSelect:t.id,lastAction:t.type,lastInteractedWith:t.lastInteractedWith,lastManuallyToggled:t.lastManuallyToggled});case W:if(e.disabledIds.has(t.id))return e;var L,R=e.selectedIds.has(t.id);t.multiSelect?(L=new Set(e.selectedIds),R?L.delete(t.id):L.add(t.id)):(L=new Set,R||L.add(t.id));var B=new Set(e.halfSelectedIds);return B.delete(t.id),Object.assign(Object.assign({},e),{selectedIds:L,halfSelectedIds:B,tabbableId:t.id,isFocused:!0,lastUserSelect:t.NotUserAction?e.lastUserSelect:t.id,lastAction:t.type,lastInteractedWith:t.lastInteractedWith,lastManuallyToggled:t.lastManuallyToggled});case x:var F,z=t.ids.filter((function(t){return!e.disabledIds.has(t)}));if(t.multiSelect){F=t.select?new Set([].concat(c(e.selectedIds),c(z))):_(e.selectedIds,new Set(z));var H=_(e.halfSelectedIds,F);return Object.assign(Object.assign({},e),{selectedIds:F,halfSelectedIds:H,lastAction:t.type,lastInteractedWith:t.lastInteractedWith,lastManuallyToggled:t.lastManuallyToggled})}return e;case T:var K,P=t.ids.filter((function(t){return!e.disabledIds.has(t)}));if(t.multiSelect){K=t.select?new Set(P):_(e.selectedIds,new Set(P));var G=_(e.halfSelectedIds,K);return Object.assign(Object.assign({},e),{selectedIds:K,halfSelectedIds:G,lastAction:t.type,lastInteractedWith:t.lastInteractedWith,lastManuallyToggled:t.lastManuallyToggled})}return e;case M:var V,Y=e.lastInteractedWith,q=e.tabbableId;if(t.multiSelect)V=new Set(t.ids),t.ids.length&&(Y=t.ids[t.ids.length-1],q=t.ids[t.ids.length-1]);else{V=new Set,t.ids.length>1&&console.warn("Tree in singleSelect mode, only the first item from selectedIds will be selected.");var X=t.ids[0];X&&V.add(X),Y=null!=X?X:Y,q=null!=X?X:Y}var $=new Set(e.halfSelectedIds);t.ids.every((function(e){return $.delete(e)}));var J=new Set(t.ids);return Object.assign(Object.assign({},e),{selectedIds:V,halfSelectedIds:$,controlledIds:J,isFocused:!0,lastAction:t.type,tabbableId:q,lastInteractedWith:Y});case j:return Object.assign(Object.assign({},e),{tabbableId:t.id,isFocused:!0,lastAction:t.type,lastInteractedWith:t.lastInteractedWith});case N:return Object.assign(Object.assign({},e),{isFocused:!1});case D:var Q=new Set(e.disabledIds);return Q.add(t.id),Object.assign(Object.assign({},e),{disabledIds:Q});case C:var Z=new Set(e.disabledIds);return Z.delete(t.id),Object.assign(Object.assign({},e),{disabledIds:Z});case U:return Object.assign(Object.assign({},e),{lastManuallyToggled:null});case k:return Object.assign(Object.assign({},e),{tabbableId:t.tabbableId,lastInteractedWith:t.lastInteractedWith,lastManuallyToggled:t.lastManuallyToggled,lastUserSelect:t.lastUserSelect});default:throw new Error("Invalid action passed to the reducer")}},se=function(t){var a=t.element,l=t.dispatch,r=t.data,d=t.selectedIds,s=t.tabbableId,o=t.isFocused,u=t.expandedIds,f=t.disabledIds,p=t.halfSelectedIds,b=t.lastUserSelect,S=t.nodeRefs,y=t.leafRefs,g=t.baseClassNames,m=t.nodeRenderer,w=t.nodeAction,A=t.setsize,N=t.posinset,D=t.level,C=t.propagateCollapse,U=t.propagateSelect,M=t.multiSelect,k=t.togglableSelect,_=t.clickAction,B=t.state,F=function(e){if(!(e.ctrlKey||e.altKey||e.shiftKey))if(u.has(a.id)&&C){var t=[a.id].concat(c(P(r,a.id,new Set)));l({type:I,ids:t,lastInteractedWith:a.id})}else l({type:O,id:a.id,lastInteractedWith:a.id})},H=function(){return l({type:j,id:a.id,lastInteractedWith:a.id})},K=function(e){if(e.shiftKey){var t=$({data:r,expandedIds:u,from:b,to:a.id}).filter((function(e){return!f.has(e)}));t=U?ee(r,t,f):t,l({type:T,select:!0,multiSelect:M,ids:t,lastInteractedWith:a.id,lastManuallyToggled:a.id})}else e.ctrlKey||_===v.select?(l({type:k?ae(r,a.id,d,f):E,id:a.id,multiSelect:M,lastInteractedWith:a.id,lastManuallyToggled:a.id}),U&&!f.has(a.id)&&l({type:x,ids:ee(r,[a.id],f),select:!k||!d.has(a.id),multiSelect:M,lastInteractedWith:a.id,lastManuallyToggled:a.id})):_===v.exclusiveSelect?l({type:k?W:E,id:a.id,multiSelect:!1,lastInteractedWith:a.id,lastManuallyToggled:a.id}):_===v.focus&&l({type:j,id:a.id,lastInteractedWith:a.id})},G=function(t){var n;return e(t,(i(n={},"".concat(t,"--expanded"),u.has(a.id)),i(n,"".concat(t,"--selected"),d.has(a.id)),i(n,"".concat(t,"--focused"),s===a.id&&o),n))},V="select"===w?{"aria-selected":Q({isSelected:d.has(a.id),isDisabled:f.has(a.id),multiSelect:M})}:{"aria-checked":Z({isSelected:d.has(a.id),isDisabled:f.has(a.id),isHalfSelected:p.has(a.id),multiSelect:M})};return z(r,a.id)||a.isBranch?n.createElement("li",Object.assign({role:"treeitem","aria-expanded":u.has(a.id),"aria-setsize":A,"aria-posinset":N,"aria-level":D,"aria-disabled":f.has(a.id),tabIndex:s===a.id?0:-1,ref:function(e){null!=(null==S?void 0:S.current)&&null!=e&&(S.current[a.id]=e)},className:g.branchWrapper},V),n.createElement(n.Fragment,null,m({element:a,isBranch:!0,isSelected:d.has(a.id),isHalfSelected:p.has(a.id),isExpanded:u.has(a.id),isDisabled:f.has(a.id),dispatch:l,getNodeProps:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.onClick;return{onClick:null==n?R(K,F,H):R(n,H),className:e(G(g.node),g.branch),ref:function(e){null!=(null==y?void 0:y.current)&&(y.current[a.id]=e)}}},setsize:A,posinset:N,level:D,handleSelect:K,handleExpand:F,treeState:B}),n.createElement(ce,Object.assign({getClasses:G},function(e){e.setsize,e.posinset;return h(e,["setsize","posinset"])}(t))))):n.createElement("li",{role:"none",className:G(g.leafListItem)},m({element:a,isBranch:!1,isSelected:d.has(a.id),isHalfSelected:!1,isExpanded:!1,isDisabled:f.has(a.id),dispatch:l,getNodeProps:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.onClick;return Object.assign({role:"treeitem",tabIndex:s===a.id?0:-1,onClick:R(null==n?K:n,H),ref:function(e){null!=(null==S?void 0:S.current)&&null!=(null==y?void 0:y.current)&&(S.current[a.id]=e,y.current[a.id]=e)},className:e(G(g.node),g.leaf),"aria-setsize":A,"aria-posinset":N,"aria-level":D,disabled:f.has(a.id),"aria-disabled":f.has(a.id)},V)},setsize:A,posinset:N,level:D,handleSelect:K,handleExpand:L,treeState:B}))},ce=function(e){var t=e.data,a=e.element,l=e.expandedIds,r=e.getClasses,i=e.baseClassNames,s=e.level,c=h(e,["data","element","expandedIds","getClasses","baseClassNames","level"]);return n.createElement("ul",{role:"group",className:r(i.nodeGroup)},l.has(a.id)&&a.children.length>0&&a.children.map((function(e,r){return n.createElement(se,Object.assign({data:t,expandedIds:l,baseClassNames:i,key:"".concat(e,"-").concat(d(e)),element:re(t,e),setsize:a.children.length,posinset:r+1,level:s+1},c))})))},oe=function(e){var t=e.data,n=e.controlledSelectedIds,d=e.controlledExpandedIds,i=e.defaultExpandedIds,o=e.defaultSelectedIds,u=e.defaultDisabledIds,h=e.nodeRefs,p=e.leafRefs,v=e.onSelect,b=e.onNodeSelect,S=e.onExpand,W=e.onLoadData,T=e.togglableSelect,N=e.multiSelect,D=e.propagateSelect,C=e.propagateSelectUpwards,R=e.treeRef,G=le(t),V=s(r(ie,{selectedIds:new Set(n||o),controlledIds:new Set(n),tabbableId:G.children[0],isFocused:!1,expandedIds:new Set(d||i),halfSelectedIds:new Set,lastUserSelect:G.children[0],lastInteractedWith:null,lastManuallyToggled:null,disabledIds:new Set(u)}),2),Y=V[0],q=V[1],X=Y.selectedIds,$=Y.expandedIds,J=Y.disabledIds,Q=Y.tabbableId,Z=Y.halfSelectedIds,te=Y.lastAction,ae=Y.lastInteractedWith,de=Y.lastManuallyToggled,se=F(X)||new Set,ce=B(X,se);l((function(){var e;if(null!=v&&v!==L){var n,a=f(ce);try{for(a.s();!(n=a.n()).done;){var l=n.value,r=z(t,l)||!!(null===(e=re(t,Q))||void 0===e?void 0:e.isBranch);v({element:re(t,l),isBranch:r,isExpanded:!!r&&$.has(l),isSelected:X.has(l),isDisabled:J.has(l),isHalfSelected:!!r&&Z.has(l),treeState:Y})}}catch(e){a.e(e)}finally{a.f()}}}),[t,X,$,J,Z,ce,v,Y]),l((function(){null!=b&&b!==L&&null!=de&&ce.size&&(b({element:re(t,de),isSelected:X.has(de),isBranch:z(t,de),treeState:Y}),q({type:U}))}),[de,X,ce]);var oe=F($)||new Set;l((function(){var e=B($,oe);if(null!=S&&S!==L){var n,a=f(e);try{for(a.s();!(n=a.n()).done;){var l=n.value;S({element:re(t,l),isExpanded:$.has(l),isSelected:X.has(l),isDisabled:J.has(l),isHalfSelected:Z.has(l),treeState:Y})}}catch(e){a.e(e)}finally{a.f()}}}),[t,X,$,J,Z,oe,S,Y]);var ue,fe,he=(ue=t,fe=a(),l((function(){fe.current=ue})),fe.current||new Map);l((function(){var e=B($,oe);if(W){var n,a=f(e);try{for(a.s();!(n=a.n()).done;){var l=n.value;W({element:re(t,l),isExpanded:$.has(l),isSelected:X.has(l),isDisabled:J.has(l),isHalfSelected:Z.has(l),treeState:Y})}}catch(e){a.e(e)}finally{a.f()}if(he!==t&&T&&D){var r,d=f($);try{for(d.s();!(r=d.n()).done;){var i=r.value;X.has(i)&&q({type:x,ids:ee(t,[i],J),select:!0,multiSelect:N,lastInteractedWith:i})}}catch(e){d.e(e)}finally{d.f()}}}}),[t,X,$,J,Z,oe,W,Y]),l((function(){if(he!==t){var e=le(t);e.children.length&&q({type:k,tabbableId:t.find((function(e){return e.id===Y.tabbableId}))?Y.tabbableId:e.children[0],lastInteractedWith:t.find((function(e){return e.id===Y.lastInteractedWith}))?Y.lastInteractedWith:null,lastManuallyToggled:t.find((function(e){return e.id===Y.lastManuallyToggled}))?Y.lastManuallyToggled:null,lastUserSelect:t.find((function(e){return e.id===Y.lastUserSelect}))?Y.lastUserSelect:e.children[0]})}}),[t]);var pe=B(new Set(n),X);return l((function(){if(n){pe.size&&q({type:M,ids:n,multiSelect:N});var e,a=f(n);try{for(a.s();!(e=a.n()).done;){var l=e.value;D&&!J.has(l)&&q({type:x,ids:ee(t,[l],J),select:!0,multiSelect:N,lastInteractedWith:l})}}catch(e){a.e(e)}finally{a.f()}}}),[n]),l((function(){var e=new Set(d),n=_(e,oe),a=_(oe,e);if(a.size){var l,r=f(a);try{for(r.s();!(l=r.n()).done;){var i=l.value;if(z(t,i)||re(t,i).isBranch){var s=[i].concat(c(P(t,i,new Set)));q({type:I,ids:s,lastInteractedWith:i})}}}catch(e){r.e(e)}finally{r.f()}}if(n.size){var o,u=f(n);try{for(u.s();!(o=u.n()).done;){var h=o.value;if(z(t,h)||re(t,h).isBranch){var p=H(t,h);q(p?{type:m,ids:[h,p],lastInteractedWith:h}:{type:g,id:h,lastInteractedWith:h})}}}catch(e){u.e(e)}finally{u.f()}}}),[d]),l((function(){if(C){var e=new Set(c(ce));ae&&te!==j&&te!==y&&te!==g&&te!==O&&e.add(ae);var n=[];e.forEach((function(e){t.find((function(t){return t.id===e}))||n.push(e)})),n.forEach((function(t){return e.delete(t)}));var a,l=function(e,t,n,a,l,r){var d,i={every:new Set,some:new Set,none:new Set},s=f(t);try{for(s.s();!(d=s.n()).done;)for(var c=d.value;;){var o=H(e,c);if(0===o||null==o||null!=o&&a.has(o))break;var u=re(e,o).children.filter((function(e){return!a.has(e)}));if(0===u.length)break;if(u.some((function(e){return n.has(e)||i.some.has(e)&&!i.none.has(e)||l.has(e)&&!i.none.has(e)})))u.every((function(e){return n.has(e)}))?i.every.add(o):i.some.add(o);else{var h=K(e,c,a).find((function(e){return n.has(e)}));if(!r&&h){P(e,h,a).forEach((function(e){l.has(e)&&i.none.add(e)}));break}i.none.add(o)}c=o}}catch(e){s.e(e)}finally{s.f()}return i}(t,e,X,J,Z,N),r=l.every,d=l.some,i=l.none,s=f(r);try{for(s.s();!(a=s.n()).done;){var o=a.value;X.has(o)||q({type:E,id:o,multiSelect:N||ne(t,o,X),keepFocus:!0,NotUserAction:!0,lastInteractedWith:ae})}}catch(e){s.e(e)}finally{s.f()}var u,h=f(d);try{for(h.s();!(u=h.n()).done;){var p=u.value;Z.has(p)||q({type:w,id:p,lastInteractedWith:ae,keepFocus:!0,NotUserAction:!0})}}catch(e){h.e(e)}finally{h.f()}var v,b=f(i);try{for(b.s();!(v=b.n()).done;){var S=v.value;(X.has(S)||Z.has(S))&&q({type:A,id:S,multiSelect:N,keepFocus:!0,NotUserAction:!0,lastInteractedWith:ae,lastManuallyToggled:de})}}catch(e){b.e(e)}finally{b.f()}}}),[t,N,C,X,$,J,Z,te,se,ce,ae,pe]),l((function(){if(null!=ae&&(null!=Q&&null!=(null==h?void 0:h.current)&&null!=(null==p?void 0:p.current)&&(null==(null==R?void 0:R.current)||document.activeElement&&R.current.contains(document.activeElement)))){var e=h.current[Q];!function(e){null!=e&&e.scrollIntoView&&e.scrollIntoView({block:"nearest"})}(p.current[ae]),function(e){null!=e&&e.focus&&e.focus({preventScroll:!0})}(e)}}),[Q,h,p,ae]),[Y,q]},ue=n.forwardRef((function(t,l){var r=t.data,i=t.selectedIds,c=t.nodeRenderer,o=t.onSelect,u=void 0===o?L:o,f=t.onNodeSelect,b=void 0===f?L:f,S=t.onExpand,y=void 0===S?L:S,I=t.onLoadData,g=t.className,m=void 0===g?"":g,w=t.multiSelect,E=void 0!==w&&w,A=t.propagateSelect,O=void 0!==A&&A,W=t.propagateSelectUpwards,x=void 0!==W&&W,T=t.propagateCollapse,j=void 0!==T&&T,D=t.expandOnKeyboardSelect,C=void 0!==D&&D,U=t.togglableSelect,M=void 0!==U&&U,k=t.defaultExpandedIds,R=void 0===k?[]:k,_=t.defaultSelectedIds,B=void 0===_?[]:_,F=t.defaultDisabledIds,z=void 0===F?[]:F,H=t.clickAction,K=void 0===H?v.select:H,P=t.nodeAction,G=void 0===P?"select":P,V=t.expandedIds,Y=t.onBlur,q=h(t,["data","selectedIds","nodeRenderer","onSelect","onNodeSelect","onExpand","onLoadData","className","multiSelect","propagateSelect","propagateSelectUpwards","propagateCollapse","expandOnKeyboardSelect","togglableSelect","defaultExpandedIds","defaultSelectedIds","defaultDisabledIds","clickAction","nodeAction","expandedIds","onBlur"]);!function(e){if(de(e.map((function(e){return e.id}))))throw Error("Multiple TreeView nodes have the same ID. IDs must be unique.");if(e.forEach((function(e){if(e.id===e.parent)throw Error("Node with id=".concat(e.id," has parent reference to itself."));if(de(e.children))throw Error("Node with id=".concat(e.id," contains duplicate ids in its children."))})),0===e.filter((function(e){return null===e.parent})).length)throw Error("TreeView must have one root node.");if(e.filter((function(e){return null===e.parent})).length>1)throw Error("TreeView can have only one root node.");le(e).children.length||console.warn("TreeView have no nodes to display.")}(r);var X=a({}),$=a({}),J=a(null);null!=l&&(J=l);var Q=s(oe({data:r,controlledSelectedIds:i,controlledExpandedIds:V,defaultExpandedIds:R,defaultSelectedIds:B,defaultDisabledIds:z,nodeRefs:X,leafRefs:$,onSelect:u,onNodeSelect:b,onExpand:y,onLoadData:I,togglableSelect:M,multiSelect:E,propagateSelect:O,propagateSelectUpwards:x,treeRef:J}),2),Z=Q[0],ee=Q[1];return O=O&&E,n.createElement("ul",Object.assign({className:e(p.root,m),role:"tree","aria-multiselectable":"select"===G?E:void 0,ref:J,onBlur:function(e){te(e,J.current,(function(){Y&&Y({treeState:Z,dispatch:ee}),ee({type:N})}))},onKeyDown:fe({data:r,tabbableId:Z.tabbableId,expandedIds:Z.expandedIds,selectedIds:Z.selectedIds,disabledIds:Z.disabledIds,halfSelectedIds:Z.halfSelectedIds,clickAction:K,dispatch:ee,propagateCollapse:j,propagateSelect:O,multiSelect:E,expandOnKeyboardSelect:C,togglableSelect:M})},q),le(r).children.map((function(e,t){return n.createElement(se,Object.assign({key:"".concat(e,"-").concat(d(e)),data:r,element:re(r,e),setsize:le(r).children.length,posinset:t+1,level:1},Z,{state:Z,dispatch:ee,nodeRefs:X,leafRefs:$,baseClassNames:p,nodeRenderer:c,propagateCollapse:j,propagateSelect:O,propagateSelectUpwards:x,multiSelect:E,togglableSelect:M,clickAction:K,nodeAction:G}))})))})),fe=function(e){var t=e.data,n=e.expandedIds,a=e.selectedIds,l=e.disabledIds,r=e.tabbableId,d=e.dispatch,i=e.propagateCollapse,s=e.propagateSelect,o=e.multiSelect,u=e.expandOnKeyboardSelect,f=e.togglableSelect,h=e.clickAction;return function(e){var p=re(t,r),b=p.id;if(e.ctrlKey){if("a"===e.key&&h!==v.focus){e.preventDefault();var S=t.filter((function(e){return null!==e.parent})).map((function(e){return e.id})).filter((function(e){return!l.has(e)}));d({type:x,multiSelect:o,select:Array.from(a).filter((function(e){return!l.has(e)})).length!==S.length,ids:S,lastInteractedWith:p.id})}else if(e.shiftKey&&("Home"===e.key||"End"===e.key)&&h!==v.focus){var w="Home"===e.key?le(t).children[0]:Y(t,b,n),A=$({data:t,expandedIds:n,from:b,to:w}).filter((function(e){return!l.has(e)}));d({type:x,multiSelect:o,select:!0,ids:s?ee(t,A,l):A}),d({type:j,id:w,lastInteractedWith:w})}}else{if(e.shiftKey)switch(e.key){case"ArrowUp":e.preventDefault();var W=q(t,b,n);return void(null==W||l.has(W)||(h!==v.focus&&d({type:x,ids:s?ee(t,[W],l):[W],select:!0,multiSelect:o,lastInteractedWith:W,lastManuallyToggled:W}),d({type:j,id:W,lastInteractedWith:W})));case"ArrowDown":e.preventDefault();var T=X(t,b,n);return void(null==T||l.has(T)||(h!==v.focus&&d({type:x,ids:s?ee(t,[T],l):[T],multiSelect:o,select:!0,lastInteractedWith:T,lastManuallyToggled:T}),d({type:j,id:T,lastInteractedWith:T})))}switch(e.key){case"ArrowDown":e.preventDefault();var N=X(t,b,n);return void(null!=N&&d({type:j,id:N,lastInteractedWith:N}));case"ArrowUp":e.preventDefault();var D=q(t,b,n);return void(null!=D&&d({type:j,id:D,lastInteractedWith:D}));case"ArrowLeft":if(e.preventDefault(),(z(t,b)||p.isBranch)&&n.has(r))if(i){var C=[b].concat(c(P(t,b,new Set)));d({type:I,ids:C,lastInteractedWith:p.id})}else d({type:y,id:b,lastInteractedWith:b});else if(!le(t).children.includes(b)){var U=H(t,b);if(null==U)throw new Error("parentId of root element is null");d({type:j,id:U,lastInteractedWith:U})}return;case"ArrowRight":return e.preventDefault(),void((z(t,b)||p.isBranch)&&(n.has(r)?d({type:j,id:p.children[0],lastInteractedWith:p.children[0]}):d({type:g,id:b,lastInteractedWith:b})));case"Home":e.preventDefault(),d({type:j,id:le(t).children[0],lastInteractedWith:le(t).children[0]});break;case"End":e.preventDefault();var M=Y(t,le(t).id,n);return void d({type:j,id:M,lastInteractedWith:M});case"*":e.preventDefault();var k=H(t,b);if(null==k)throw new Error("parentId of element is null");var L=re(t,k).children.filter((function(e){return z(t,e)||re(t,e).isBranch}));return void d({type:m,ids:L,lastInteractedWith:b});case"Enter":case" ":case"Spacebar":if(e.preventDefault(),h===v.focus)return;return d({type:f?ae(t,b,a,l):E,id:b,multiSelect:o,lastInteractedWith:b,lastManuallyToggled:b}),s&&!l.has(p.id)&&d({type:x,ids:ee(t,[b],l),select:!f||!a.has(b),multiSelect:o,lastInteractedWith:b,lastManuallyToggled:b}),void(u&&d({type:O,id:b,lastInteractedWith:b}));default:if(1===e.key.length)for(var R=X(t,b,n);R!==b;)if(null!=R){if(re(t,R).name[0].toLowerCase()===e.key.toLowerCase())return void d({type:j,id:R,lastInteractedWith:b});R=X(t,R,n)}else R=le(t).children[0];return}}}};ue.propTypes={data:t.array.isRequired,onSelect:t.func,onNodeSelect:t.func,onExpand:t.func,className:t.string,nodeRenderer:t.func.isRequired,defaultExpandedIds:t.array,defaultSelectedIds:t.array,expandedIds:t.array,selectedIds:t.array,defaultDisabledIds:t.array,propagateCollapse:t.bool,propagateSelect:t.bool,propagateSelectUpwards:t.bool,multiSelect:t.bool,expandOnKeyboardSelect:t.bool,togglableSelect:t.bool,nodeAction:t.oneOf(S),clickAction:t.oneOf(b),onBlur:t.func,onLoadData:t.func};export default ue;export{b as CLICK_ACTIONS,J as flattenTree};
+import e from"classnames";import t from"prop-types";import n,{useRef as a,useEffect as l,useReducer as r}from"react";function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,l,r=[],d=!0,i=!1;try{for(n=n.call(e);!(d=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);d=!0);}catch(e){i=!0,l=e}finally{try{d||null==n.return||n.return()}finally{if(i)throw l}}return r}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,l=function(){};return{s:l,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,d=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return d=e.done,e},e:function(e){i=!0,r=e},f:function(){try{d||null==n.return||n.return()}finally{if(i)throw r}}}}function h(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(n[a[l]]=e[a[l]])}return n}var p={root:"tree",node:"tree-node",branch:"tree-node__branch",branchWrapper:"tree-branch-wrapper",leafListItem:"tree-leaf-list-item",leaf:"tree-node__leaf",nodeGroup:"tree-node-group"},v={select:"SELECT",focus:"FOCUS",exclusiveSelect:"EXCLUSIVE_SELECT"},b=Object.freeze(Object.values(v)),S=Object.freeze(Object.values({check:"check",select:"select"})),y="COLLAPSE",I="COLLAPSE_MANY",g="EXPAND",m="EXPAND_MANY",w="HALF_SELECT",E="SELECT",A="DESELECT",O="TOGGLE",W="TOGGLE_SELECT",x="SELECT_MANY",T="EXCLUSIVE_CHANGE_SELECT_MANY",j="FOCUS",N="BLUR",D="DISABLE",C="ENABLE",U="CLEAR_MANUALLY_TOGGLED",M="CONTROLLED_SELECT_MANY",k="UPDATE_TREE_STATE_WHEN_DATA_CHANGED",L=function(){},R=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=0,a=t;n<a.length;n++){var l=a[n];if(l&&l(e),e.defaultPrevented)break}}},_=function(e,t){var n,a=new Set,l=f(e);try{for(l.s();!(n=l.n()).done;){var r=n.value;t.has(r)||a.add(r)}}catch(e){l.e(e)}finally{l.f()}return a},B=function(e,t){return new Set([].concat(c(_(e,t)),c(_(t,e))))},F=function(e){var t=a();return l((function(){t.current=e}),[e]),t.current},z=function(e,t){var n;return!!(null===(n=re(e,t).children)||void 0===n?void 0:n.length)},H=function(e,t){return re(e,t).parent},K=function(e,t,n){for(var a=t,l=[];;){var r=H(e,a);if(0===r||null==r||null!=r&&n.has(r))break;l.push(r),a=r}return l},P=function(e,t,n){var a=[];return function e(t,l){var r=re(t,l);if(null!=r.children){var d,i=f(r.children.filter((function(e){return!n.has(e)})));try{for(i.s();!(d=i.n()).done;){var s=d.value;a.push(s),e(t,s)}}catch(e){i.e(e)}finally{i.f()}}}(e,t),a},G=function(e,t){var n=re(e,t);return null==n.children?[]:n.children},V=function(e,t,n){var a=H(e,t);if(null!=a){var l=re(e,a),r=l.children.indexOf(t)+n;if(l.children[r])return l.children[r]}return null},Y=function(e,t,n){var a=re(e,t);for(le(e).id===t&&(a=re(e,re(e,t).children[re(e,t).children.length-1]));n.has(a.id)&&z(e,a.id);)a=re(e,a.children[a.children.length-1]);return a.id},q=function(e,t,n){if(t===le(e).children[0])return null;var a=V(e,t,-1);return null==a?H(e,t):Y(e,a,n)},X=function(e,t,n){var a=re(e,t).id;if(z(e,a)&&n.has(a))return re(e,a).children[0];for(;;){var l=V(e,a,1);if(null!=l)return l;if(null==(a=H(e,a)))return null}},$=function(e){var t=e.data,n=e.expandedIds,a=e.from,l=e.to,r=[],d=t.length,i=0,s=a;if(r.push(a),a<l)for(;i<d&&(null!=(s=X(t,s,n))&&r.push(s),null!=s&&s!==l);)i+=1;else if(a>l)for(;i<d&&(null!=(s=q(t,s,n))&&r.push(s),null!=s&&s!==l);)i+=1;return r},J=function(e){var t=0,n=[];return function e(a,l){var r,d=Object.assign(Object.assign({id:a.id||t,name:a.name,children:[]},a.isBranch&&{isBranch:a.isBranch}),{parent:l,metadata:a.metadata?Object.assign({},a.metadata):void 0});if(n.find((function(e){return e.id===d.id})))throw Error("Multiple TreeView nodes have the same ID (".concat(d.id,"). IDs must be unique."));if(n.push(d),t+=1,null===(r=a.children)||void 0===r?void 0:r.length){var i,s=f(a.children);try{for(s.s();!(i=s.n()).done;){e(i.value,d.id)}}catch(e){s.e(e)}finally{s.f()}var c,o=f(n.values());try{for(o.s();!(c=o.n()).done;){var u=c.value;u.parent===d.id&&d.children.push(u.id)}}catch(e){o.e(e)}finally{o.f()}}}(e,null),n},Q=function(e){var t=e.isSelected,n=e.isDisabled,a=e.multiSelect;return n||a?t:!!t||void 0},Z=function(e){var t=e.isSelected,n=e.isDisabled,a=e.isHalfSelected,l=e.multiSelect;return n?t:a?"mixed":l?t:!!t||void 0},ee=function(e,t,n){return t.concat.apply(t,c(t.filter((function(t){return z(e,t)})).map((function(t){return P(e,t,n)}))))},te=function(e,t,n){null!=t?window.navigator.userAgent.match(/Trident/)?setTimeout((function(){return!t.contains(document.activeElement)&&n()}),0):!t.contains(e.nativeEvent.relatedTarget)&&n():console.warn("ref not set on <ul>")},ne=function(e,t,n){var a=G(e,t);return z(e,t)&&!n.has(t)&&1===a.length&&a.every((function(e){return n.has(e)}))},ae=function(e,t,n,a){var l=function(e,t,n){return z(e,t)&&n.has(t)&&P(e,t,new Set).some((function(e){return n.has(e)}))}(e,t,n),r=function(e,t,n){var a=G(e,t);return z(e,t)&&n.has(t)&&1===a.length&&a.every((function(e){return n.has(e)}))}(e,t,n);return function(e,t,n,a){var l=P(e,t,new Set);return z(e,t)&&n.has(t)&&l.every((function(e){return n.has(e)}))&&l.every((function(e){return!a.has(e)}))}(e,t,n,a)?W:l&&!r?w:W},le=function(e){var t=e.find((function(e){return null===e.parent}));if(!t)throw Error("TreeView data must contain parent node.");return t},re=function(e,t){var n=e.find((function(e){return e.id===t}));if(null==n)throw Error("Node with id=".concat(t," doesn't exist in the tree."));return n},de=function(e){var t=Array.from(new Set(e));return e.length!==t.length},ie=function(e,t){switch(t.type){case y:var n=new Set(e.expandedIds);return n.delete(t.id),Object.assign(Object.assign({},e),{expandedIds:n,tabbableId:t.id,isFocused:!0,lastAction:t.type,lastInteractedWith:t.lastInteractedWith});case I:var a,l=new Set(e.expandedIds),r=f(t.ids);try{for(r.s();!(a=r.n()).done;){var d=a.value;l.delete(d)}}catch(e){r.e(e)}finally{r.f()}return Object.assign(Object.assign({},e),{expandedIds:l,lastAction:t.type,lastInteractedWith:t.lastInteractedWith});case g:var i=new Set(e.expandedIds);return i.add(t.id),Object.assign(Object.assign({},e),{expandedIds:i,tabbableId:t.id,isFocused:!0,lastAction:t.type,lastInteractedWith:t.lastInteractedWith});case m:var s=new Set([].concat(c(e.expandedIds),c(t.ids)));return Object.assign(Object.assign({},e),{expandedIds:s,lastAction:t.type,lastInteractedWith:t.lastInteractedWith});case O:var o=new Set(e.expandedIds);return e.expandedIds.has(t.id)?o.delete(t.id):o.add(t.id),Object.assign(Object.assign({},e),{expandedIds:o,tabbableId:t.id,isFocused:!0,lastAction:t.type,lastInteractedWith:t.lastInteractedWith});case w:if(e.disabledIds.has(t.id))return e;var u=new Set(e.halfSelectedIds),h=new Set(e.selectedIds);return u.add(t.id),h.delete(t.id),Object.assign(Object.assign({},e),{selectedIds:h,halfSelectedIds:u,tabbableId:t.keepFocus?e.tabbableId:t.id,lastAction:t.type,lastInteractedWith:t.lastInteractedWith,lastManuallyToggled:t.lastManuallyToggled,lastUserSelect:t.NotUserAction?e.lastUserSelect:t.id});case E:if(!t.NotUserAction&&e.disabledIds.has(t.id))return e;var p;t.multiSelect?(p=new Set(e.selectedIds)).add(t.id):(p=new Set).add(t.id);var v=new Set(e.halfSelectedIds);return v.delete(t.id),Object.assign(Object.assign({},e),{selectedIds:p,halfSelectedIds:v,tabbableId:t.keepFocus?e.tabbableId:t.id,isFocused:!0!==t.NotUserAction,lastUserSelect:t.NotUserAction?e.lastUserSelect:t.id,lastAction:t.type,lastInteractedWith:t.lastInteractedWith,lastManuallyToggled:t.lastManuallyToggled});case A:if(!t.NotUserAction&&e.disabledIds.has(t.id))return e;var b,S=new Set(e.selectedIds);return S.delete(t.id),t.multiSelect?(b=new Set(e.halfSelectedIds)).delete(t.id):b=new Set,Object.assign(Object.assign({},e),{selectedIds:S,halfSelectedIds:b,tabbableId:t.keepFocus?e.tabbableId:t.id,isFocused:!0,lastUserSelect:t.NotUserAction?e.lastUserSelect:t.id,lastAction:t.type,lastInteractedWith:t.lastInteractedWith,lastManuallyToggled:t.lastManuallyToggled});case W:if(e.disabledIds.has(t.id))return e;var L,R=e.selectedIds.has(t.id);t.multiSelect?(L=new Set(e.selectedIds),R?L.delete(t.id):L.add(t.id)):(L=new Set,R||L.add(t.id));var B=new Set(e.halfSelectedIds);return B.delete(t.id),Object.assign(Object.assign({},e),{selectedIds:L,halfSelectedIds:B,tabbableId:t.id,isFocused:!0,lastUserSelect:t.NotUserAction?e.lastUserSelect:t.id,lastAction:t.type,lastInteractedWith:t.lastInteractedWith,lastManuallyToggled:t.lastManuallyToggled});case x:var F,z=t.ids.filter((function(t){return!e.disabledIds.has(t)}));if(t.multiSelect){F=t.select?new Set([].concat(c(e.selectedIds),c(z))):_(e.selectedIds,new Set(z));var H=_(e.halfSelectedIds,F);return Object.assign(Object.assign({},e),{selectedIds:F,halfSelectedIds:H,lastAction:t.type,lastInteractedWith:t.lastInteractedWith,lastManuallyToggled:t.lastManuallyToggled})}return e;case T:var K,P=t.ids.filter((function(t){return!e.disabledIds.has(t)}));if(t.multiSelect){K=t.select?new Set(P):_(e.selectedIds,new Set(P));var G=_(e.halfSelectedIds,K);return Object.assign(Object.assign({},e),{selectedIds:K,halfSelectedIds:G,lastAction:t.type,lastInteractedWith:t.lastInteractedWith,lastManuallyToggled:t.lastManuallyToggled})}return e;case M:var V,Y=e.lastInteractedWith,q=e.tabbableId;if(t.multiSelect)V=new Set(t.ids),t.ids.length&&(Y=t.ids[t.ids.length-1],q=t.ids[t.ids.length-1]);else{V=new Set,t.ids.length>1&&console.warn("Tree in singleSelect mode, only the first item from selectedIds will be selected.");var X=t.ids[0];X&&V.add(X),Y=null!=X?X:Y,q=null!=X?X:Y}var $=new Set(e.halfSelectedIds);t.ids.every((function(e){return $.delete(e)}));var J=new Set(t.ids);return Object.assign(Object.assign({},e),{selectedIds:V,halfSelectedIds:$,controlledIds:J,isFocused:!0,lastAction:t.type,tabbableId:q,lastInteractedWith:Y});case j:return Object.assign(Object.assign({},e),{tabbableId:t.id,isFocused:!0,lastAction:t.type,lastInteractedWith:t.lastInteractedWith});case N:return Object.assign(Object.assign({},e),{isFocused:!1});case D:var Q=new Set(e.disabledIds);return Q.add(t.id),Object.assign(Object.assign({},e),{disabledIds:Q});case C:var Z=new Set(e.disabledIds);return Z.delete(t.id),Object.assign(Object.assign({},e),{disabledIds:Z});case U:return Object.assign(Object.assign({},e),{lastManuallyToggled:null});case k:return Object.assign(Object.assign({},e),{tabbableId:t.tabbableId,lastInteractedWith:t.lastInteractedWith,lastManuallyToggled:t.lastManuallyToggled,lastUserSelect:t.lastUserSelect});default:throw new Error("Invalid action passed to the reducer")}},se=function(t){var a=t.element,l=t.dispatch,r=t.data,d=t.selectedIds,s=t.tabbableId,o=t.isFocused,u=t.expandedIds,f=t.disabledIds,p=t.halfSelectedIds,b=t.lastUserSelect,S=t.nodeRefs,y=t.leafRefs,g=t.baseClassNames,m=t.nodeRenderer,w=t.nodeAction,A=t.setsize,N=t.posinset,D=t.level,C=t.propagateCollapse,U=t.propagateSelect,M=t.multiSelect,k=t.togglableSelect,_=t.clickAction,B=t.state,F=function(e){if(!(e.ctrlKey||e.altKey||e.shiftKey))if(u.has(a.id)&&C){var t=[a.id].concat(c(P(r,a.id,new Set)));l({type:I,ids:t,lastInteractedWith:a.id})}else l({type:O,id:a.id,lastInteractedWith:a.id})},H=function(){return l({type:j,id:a.id,lastInteractedWith:a.id})},K=function(e){if(e.shiftKey){var t=$({data:r,expandedIds:u,from:b,to:a.id}).filter((function(e){return!f.has(e)}));t=U?ee(r,t,f):t,l({type:T,select:!0,multiSelect:M,ids:t,lastInteractedWith:a.id,lastManuallyToggled:a.id})}else e.ctrlKey||_===v.select?(l({type:k?ae(r,a.id,d,f):E,id:a.id,multiSelect:M,lastInteractedWith:a.id,lastManuallyToggled:a.id}),U&&!f.has(a.id)&&l({type:x,ids:ee(r,[a.id],f),select:!k||!d.has(a.id),multiSelect:M,lastInteractedWith:a.id,lastManuallyToggled:a.id})):_===v.exclusiveSelect?l({type:k?W:E,id:a.id,multiSelect:!1,lastInteractedWith:a.id,lastManuallyToggled:a.id}):_===v.focus&&l({type:j,id:a.id,lastInteractedWith:a.id})},G=function(t){var n;return e(t,(i(n={},"".concat(t,"--expanded"),u.has(a.id)),i(n,"".concat(t,"--selected"),d.has(a.id)),i(n,"".concat(t,"--focused"),s===a.id&&o),n))},V="select"===w?{"aria-selected":Q({isSelected:d.has(a.id),isDisabled:f.has(a.id),multiSelect:M})}:{"aria-checked":Z({isSelected:d.has(a.id),isDisabled:f.has(a.id),isHalfSelected:p.has(a.id),multiSelect:M})};return z(r,a.id)||a.isBranch?n.createElement("li",Object.assign({role:"treeitem","aria-expanded":u.has(a.id),"aria-setsize":A,"aria-posinset":N,"aria-level":D,"aria-disabled":f.has(a.id),tabIndex:s===a.id?0:-1,ref:function(e){null!=(null==S?void 0:S.current)&&null!=e&&(S.current[a.id]=e)},className:g.branchWrapper},V),n.createElement(n.Fragment,null,m({element:a,isBranch:!0,isSelected:d.has(a.id),isHalfSelected:p.has(a.id),isExpanded:u.has(a.id),isDisabled:f.has(a.id),dispatch:l,getNodeProps:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.onClick;return{onClick:null==n?R(K,F,H):R(n,H),className:e(G(g.node),g.branch),ref:function(e){null!=(null==y?void 0:y.current)&&(y.current[a.id]=e)}}},setsize:A,posinset:N,level:D,handleSelect:K,handleExpand:F,treeState:B}),n.createElement(ce,Object.assign({getClasses:G},function(e){e.setsize,e.posinset;return h(e,["setsize","posinset"])}(t))))):n.createElement("li",{role:"none",className:G(g.leafListItem)},m({element:a,isBranch:!1,isSelected:d.has(a.id),isHalfSelected:!1,isExpanded:!1,isDisabled:f.has(a.id),dispatch:l,getNodeProps:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.onClick;return Object.assign({role:"treeitem",tabIndex:s===a.id?0:-1,onClick:R(null==n?K:n,H),ref:function(e){null!=(null==S?void 0:S.current)&&null!=(null==y?void 0:y.current)&&(S.current[a.id]=e,y.current[a.id]=e)},className:e(G(g.node),g.leaf),"aria-setsize":A,"aria-posinset":N,"aria-level":D,disabled:f.has(a.id),"aria-disabled":f.has(a.id)},V)},setsize:A,posinset:N,level:D,handleSelect:K,handleExpand:L,treeState:B}))},ce=function(e){var t=e.data,a=e.element,l=e.expandedIds,r=e.getClasses,i=e.baseClassNames,s=e.level,c=h(e,["data","element","expandedIds","getClasses","baseClassNames","level"]);return n.createElement("ul",{role:"group",className:r(i.nodeGroup)},l.has(a.id)&&a.children.length>0&&a.children.map((function(e,r){return n.createElement(se,Object.assign({data:t,expandedIds:l,baseClassNames:i,key:"".concat(e,"-").concat(d(e)),element:re(t,e),setsize:a.children.length,posinset:r+1,level:s+1},c))})))},oe=function(e){var t=e.data,n=e.controlledSelectedIds,d=e.controlledExpandedIds,i=e.defaultExpandedIds,o=e.defaultSelectedIds,u=e.defaultDisabledIds,h=e.nodeRefs,p=e.leafRefs,v=e.onSelect,b=e.onNodeSelect,S=e.onExpand,W=e.onLoadData,T=e.togglableSelect,N=e.multiSelect,D=e.propagateSelect,C=e.propagateSelectUpwards,R=e.treeRef,G=le(t),V=s(r(ie,{selectedIds:new Set(n||o),controlledIds:new Set(n),tabbableId:G.children[0],isFocused:!1,expandedIds:new Set(d||i),halfSelectedIds:new Set,lastUserSelect:G.children[0],lastInteractedWith:null,lastManuallyToggled:null,disabledIds:new Set(u)}),2),Y=V[0],q=V[1],X=Y.selectedIds,$=Y.expandedIds,J=Y.disabledIds,Q=Y.tabbableId,Z=Y.halfSelectedIds,te=Y.lastAction,ae=Y.lastInteractedWith,de=Y.lastManuallyToggled,se=F(X)||new Set,ce=B(X,se);l((function(){var e;if(null!=v&&v!==L){var n,a=f(ce);try{var l=function(){var a=n.value;if(t.find((function(e){return e.id===a}))){var l=z(t,a)||!!(null===(e=re(t,Q))||void 0===e?void 0:e.isBranch);v({element:re(t,a),isBranch:l,isExpanded:!!l&&$.has(a),isSelected:X.has(a),isDisabled:J.has(a),isHalfSelected:!!l&&Z.has(a),treeState:Y})}};for(a.s();!(n=a.n()).done;)l()}catch(e){a.e(e)}finally{a.f()}}}),[t,X,$,J,Z,ce,v,Y]),l((function(){null!=b&&b!==L&&null!=de&&ce.size&&(b({element:re(t,de),isSelected:X.has(de),isBranch:z(t,de),treeState:Y}),q({type:U}))}),[de,X,ce]);var oe=F($)||new Set;l((function(){var e=B($,oe);if(null!=S&&S!==L){var n,a=f(e);try{for(a.s();!(n=a.n()).done;){var l=n.value;S({element:re(t,l),isExpanded:$.has(l),isSelected:X.has(l),isDisabled:J.has(l),isHalfSelected:Z.has(l),treeState:Y})}}catch(e){a.e(e)}finally{a.f()}}}),[t,X,$,J,Z,oe,S,Y]);var ue,fe,he=(ue=t,fe=a(),l((function(){fe.current=ue})),fe.current||new Map);l((function(){var e=B($,oe);if(W){var n,a=f(e);try{for(a.s();!(n=a.n()).done;){var l=n.value;W({element:re(t,l),isExpanded:$.has(l),isSelected:X.has(l),isDisabled:J.has(l),isHalfSelected:Z.has(l),treeState:Y})}}catch(e){a.e(e)}finally{a.f()}if(he!==t&&T&&D){var r,d=f($);try{for(d.s();!(r=d.n()).done;){var i=r.value;X.has(i)&&q({type:x,ids:ee(t,[i],J),select:!0,multiSelect:N,lastInteractedWith:i})}}catch(e){d.e(e)}finally{d.f()}}}}),[t,X,$,J,Z,oe,W,Y]),l((function(){if(he!==t){var e=le(t);e.children.length&&q({type:k,tabbableId:t.find((function(e){return e.id===Y.tabbableId}))?Y.tabbableId:e.children[0],lastInteractedWith:t.find((function(e){return e.id===Y.lastInteractedWith}))?Y.lastInteractedWith:null,lastManuallyToggled:t.find((function(e){return e.id===Y.lastManuallyToggled}))?Y.lastManuallyToggled:null,lastUserSelect:t.find((function(e){return e.id===Y.lastUserSelect}))?Y.lastUserSelect:e.children[0]})}}),[t]);var pe=B(new Set(n),X);return l((function(){if(n){pe.size&&q({type:M,ids:n,multiSelect:N});var e,a=f(n);try{for(a.s();!(e=a.n()).done;){var l=e.value;D&&!J.has(l)&&q({type:x,ids:ee(t,[l],J),select:!0,multiSelect:N,lastInteractedWith:l})}}catch(e){a.e(e)}finally{a.f()}}}),[n]),l((function(){var e=new Set(d),n=_(e,oe),a=_(oe,e);if(a.size){var l,r=f(a);try{var i=function(){var e=l.value;if(t.find((function(t){return t.id===e}))&&(z(t,e)||re(t,e).isBranch)){var n=[e].concat(c(P(t,e,new Set)));q({type:I,ids:n,lastInteractedWith:e})}};for(r.s();!(l=r.n()).done;)i()}catch(e){r.e(e)}finally{r.f()}}if(n.size){var s,o=f(n);try{var u=function(){var e=s.value;if(t.find((function(t){return t.id===e}))&&(z(t,e)||re(t,e).isBranch)){var n=H(t,e);q(n?{type:m,ids:[e,n],lastInteractedWith:e}:{type:g,id:e,lastInteractedWith:e})}};for(o.s();!(s=o.n()).done;)u()}catch(e){o.e(e)}finally{o.f()}}}),[d]),l((function(){if(C){var e=new Set(c(ce));ae&&te!==j&&te!==y&&te!==g&&te!==O&&e.add(ae);var n=[];e.forEach((function(e){t.find((function(t){return t.id===e}))||n.push(e)})),n.forEach((function(t){return e.delete(t)}));var a,l=function(e,t,n,a,l,r){var d,i={every:new Set,some:new Set,none:new Set},s=f(t);try{for(s.s();!(d=s.n()).done;)for(var c=d.value;;){var o=H(e,c);if(0===o||null==o||null!=o&&a.has(o))break;var u=re(e,o).children.filter((function(e){return!a.has(e)}));if(0===u.length)break;if(u.some((function(e){return n.has(e)||i.some.has(e)&&!i.none.has(e)||l.has(e)&&!i.none.has(e)})))u.every((function(e){return n.has(e)}))?i.every.add(o):i.some.add(o);else{var h=K(e,c,a).find((function(e){return n.has(e)}));if(!r&&h){P(e,h,a).forEach((function(e){l.has(e)&&i.none.add(e)}));break}i.none.add(o)}c=o}}catch(e){s.e(e)}finally{s.f()}return i}(t,e,X,J,Z,N),r=l.every,d=l.some,i=l.none,s=f(r);try{for(s.s();!(a=s.n()).done;){var o=a.value;X.has(o)||q({type:E,id:o,multiSelect:N||ne(t,o,X),keepFocus:!0,NotUserAction:!0,lastInteractedWith:ae})}}catch(e){s.e(e)}finally{s.f()}var u,h=f(d);try{for(h.s();!(u=h.n()).done;){var p=u.value;Z.has(p)||q({type:w,id:p,lastInteractedWith:ae,keepFocus:!0,NotUserAction:!0})}}catch(e){h.e(e)}finally{h.f()}var v,b=f(i);try{for(b.s();!(v=b.n()).done;){var S=v.value;(X.has(S)||Z.has(S))&&q({type:A,id:S,multiSelect:N,keepFocus:!0,NotUserAction:!0,lastInteractedWith:ae,lastManuallyToggled:de})}}catch(e){b.e(e)}finally{b.f()}}}),[t,N,C,X,$,J,Z,te,se,ce,ae,pe]),l((function(){if(null!=ae&&(null!=Q&&null!=(null==h?void 0:h.current)&&null!=(null==p?void 0:p.current)&&(null==(null==R?void 0:R.current)||document.activeElement&&R.current.contains(document.activeElement)))){var e=h.current[Q];!function(e){null!=e&&e.scrollIntoView&&e.scrollIntoView({block:"nearest"})}(p.current[ae]),function(e){null!=e&&e.focus&&e.focus({preventScroll:!0})}(e)}}),[Q,h,p,ae]),[Y,q]},ue=n.forwardRef((function(t,l){var r=t.data,i=t.selectedIds,c=t.nodeRenderer,o=t.onSelect,u=void 0===o?L:o,f=t.onNodeSelect,b=void 0===f?L:f,S=t.onExpand,y=void 0===S?L:S,I=t.onLoadData,g=t.className,m=void 0===g?"":g,w=t.multiSelect,E=void 0!==w&&w,A=t.propagateSelect,O=void 0!==A&&A,W=t.propagateSelectUpwards,x=void 0!==W&&W,T=t.propagateCollapse,j=void 0!==T&&T,D=t.expandOnKeyboardSelect,C=void 0!==D&&D,U=t.togglableSelect,M=void 0!==U&&U,k=t.defaultExpandedIds,R=void 0===k?[]:k,_=t.defaultSelectedIds,B=void 0===_?[]:_,F=t.defaultDisabledIds,z=void 0===F?[]:F,H=t.clickAction,K=void 0===H?v.select:H,P=t.nodeAction,G=void 0===P?"select":P,V=t.expandedIds,Y=t.onBlur,q=h(t,["data","selectedIds","nodeRenderer","onSelect","onNodeSelect","onExpand","onLoadData","className","multiSelect","propagateSelect","propagateSelectUpwards","propagateCollapse","expandOnKeyboardSelect","togglableSelect","defaultExpandedIds","defaultSelectedIds","defaultDisabledIds","clickAction","nodeAction","expandedIds","onBlur"]);!function(e){if(de(e.map((function(e){return e.id}))))throw Error("Multiple TreeView nodes have the same ID. IDs must be unique.");if(e.forEach((function(e){if(e.id===e.parent)throw Error("Node with id=".concat(e.id," has parent reference to itself."));if(de(e.children))throw Error("Node with id=".concat(e.id," contains duplicate ids in its children."))})),0===e.filter((function(e){return null===e.parent})).length)throw Error("TreeView must have one root node.");if(e.filter((function(e){return null===e.parent})).length>1)throw Error("TreeView can have only one root node.");le(e).children.length||console.warn("TreeView have no nodes to display.")}(r);var X=a({}),$=a({}),J=a(null);null!=l&&(J=l);var Q=s(oe({data:r,controlledSelectedIds:i,controlledExpandedIds:V,defaultExpandedIds:R,defaultSelectedIds:B,defaultDisabledIds:z,nodeRefs:X,leafRefs:$,onSelect:u,onNodeSelect:b,onExpand:y,onLoadData:I,togglableSelect:M,multiSelect:E,propagateSelect:O,propagateSelectUpwards:x,treeRef:J}),2),Z=Q[0],ee=Q[1];return O=O&&E,n.createElement("ul",Object.assign({className:e(p.root,m),role:"tree","aria-multiselectable":"select"===G?E:void 0,ref:J,onBlur:function(e){te(e,J.current,(function(){Y&&Y({treeState:Z,dispatch:ee}),ee({type:N})}))},onKeyDown:fe({data:r,tabbableId:Z.tabbableId,expandedIds:Z.expandedIds,selectedIds:Z.selectedIds,disabledIds:Z.disabledIds,halfSelectedIds:Z.halfSelectedIds,clickAction:K,dispatch:ee,propagateCollapse:j,propagateSelect:O,multiSelect:E,expandOnKeyboardSelect:C,togglableSelect:M})},q),le(r).children.map((function(e,t){return n.createElement(se,Object.assign({key:"".concat(e,"-").concat(d(e)),data:r,element:re(r,e),setsize:le(r).children.length,posinset:t+1,level:1},Z,{state:Z,dispatch:ee,nodeRefs:X,leafRefs:$,baseClassNames:p,nodeRenderer:c,propagateCollapse:j,propagateSelect:O,propagateSelectUpwards:x,multiSelect:E,togglableSelect:M,clickAction:K,nodeAction:G}))})))})),fe=function(e){var t=e.data,n=e.expandedIds,a=e.selectedIds,l=e.disabledIds,r=e.tabbableId,d=e.dispatch,i=e.propagateCollapse,s=e.propagateSelect,o=e.multiSelect,u=e.expandOnKeyboardSelect,f=e.togglableSelect,h=e.clickAction;return function(e){var p=re(t,r),b=p.id;if(e.ctrlKey){if("a"===e.key&&h!==v.focus){e.preventDefault();var S=t.filter((function(e){return null!==e.parent})).map((function(e){return e.id})).filter((function(e){return!l.has(e)}));d({type:x,multiSelect:o,select:Array.from(a).filter((function(e){return!l.has(e)})).length!==S.length,ids:S,lastInteractedWith:p.id})}else if(e.shiftKey&&("Home"===e.key||"End"===e.key)&&h!==v.focus){var w="Home"===e.key?le(t).children[0]:Y(t,b,n),A=$({data:t,expandedIds:n,from:b,to:w}).filter((function(e){return!l.has(e)}));d({type:x,multiSelect:o,select:!0,ids:s?ee(t,A,l):A}),d({type:j,id:w,lastInteractedWith:w})}}else{if(e.shiftKey)switch(e.key){case"ArrowUp":e.preventDefault();var W=q(t,b,n);return void(null==W||l.has(W)||(h!==v.focus&&d({type:x,ids:s?ee(t,[W],l):[W],select:!0,multiSelect:o,lastInteractedWith:W,lastManuallyToggled:W}),d({type:j,id:W,lastInteractedWith:W})));case"ArrowDown":e.preventDefault();var T=X(t,b,n);return void(null==T||l.has(T)||(h!==v.focus&&d({type:x,ids:s?ee(t,[T],l):[T],multiSelect:o,select:!0,lastInteractedWith:T,lastManuallyToggled:T}),d({type:j,id:T,lastInteractedWith:T})))}switch(e.key){case"ArrowDown":e.preventDefault();var N=X(t,b,n);return void(null!=N&&d({type:j,id:N,lastInteractedWith:N}));case"ArrowUp":e.preventDefault();var D=q(t,b,n);return void(null!=D&&d({type:j,id:D,lastInteractedWith:D}));case"ArrowLeft":if(e.preventDefault(),(z(t,b)||p.isBranch)&&n.has(r))if(i){var C=[b].concat(c(P(t,b,new Set)));d({type:I,ids:C,lastInteractedWith:p.id})}else d({type:y,id:b,lastInteractedWith:b});else if(!le(t).children.includes(b)){var U=H(t,b);if(null==U)throw new Error("parentId of root element is null");d({type:j,id:U,lastInteractedWith:U})}return;case"ArrowRight":return e.preventDefault(),void((z(t,b)||p.isBranch)&&(n.has(r)?d({type:j,id:p.children[0],lastInteractedWith:p.children[0]}):d({type:g,id:b,lastInteractedWith:b})));case"Home":e.preventDefault(),d({type:j,id:le(t).children[0],lastInteractedWith:le(t).children[0]});break;case"End":e.preventDefault();var M=Y(t,le(t).id,n);return void d({type:j,id:M,lastInteractedWith:M});case"*":e.preventDefault();var k=H(t,b);if(null==k)throw new Error("parentId of element is null");var L=re(t,k).children.filter((function(e){return z(t,e)||re(t,e).isBranch}));return void d({type:m,ids:L,lastInteractedWith:b});case"Enter":case" ":case"Spacebar":if(e.preventDefault(),h===v.focus)return;return d({type:f?ae(t,b,a,l):E,id:b,multiSelect:o,lastInteractedWith:b,lastManuallyToggled:b}),s&&!l.has(p.id)&&d({type:x,ids:ee(t,[b],l),select:!f||!a.has(b),multiSelect:o,lastInteractedWith:b,lastManuallyToggled:b}),void(u&&d({type:O,id:b,lastInteractedWith:b}));default:if(1===e.key.length)for(var R=X(t,b,n);R!==b;)if(null!=R){if(re(t,R).name[0].toLowerCase()===e.key.toLowerCase())return void d({type:j,id:R,lastInteractedWith:b});R=X(t,R,n)}else R=le(t).children[0];return}}}};ue.propTypes={data:t.array.isRequired,onSelect:t.func,onNodeSelect:t.func,onExpand:t.func,className:t.string,nodeRenderer:t.func.isRequired,defaultExpandedIds:t.array,defaultSelectedIds:t.array,expandedIds:t.array,selectedIds:t.array,defaultDisabledIds:t.array,propagateCollapse:t.bool,propagateSelect:t.bool,propagateSelectUpwards:t.bool,multiSelect:t.bool,expandOnKeyboardSelect:t.bool,togglableSelect:t.bool,nodeAction:t.oneOf(S),clickAction:t.oneOf(b),onBlur:t.func,onLoadData:t.func};export default ue;export{b as CLICK_ACTIONS,J as flattenTree};
